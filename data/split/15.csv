change_id,filename,author,patch_set,id,comment_type,line,in_reply_to,updated,message,unresolved,quarter
90498,ceilometer/compute/virt/libvirt/inspector.py,10987,6,1abeadc6_b1df830c,Line,185,,2014-08-20 19:15:37,"Here the same nitpicking as DIna mentioned, please use parentheses instead of \",False,15
90498,ceilometer/compute/virt/libvirt/inspector.py,3012,6,1abeadc6_6678ea2b,Line,183,,2014-08-20 08:41:39,"please don't use \ to prolong long lines, use ()",False,15
91753,swift/common/manager.py,7233,2,1abeadc6_661773a4,Line,358,,2014-08-18 06:38:15,"This naming logic is a duplicate of what happens in the Server class constructor below. Instead of duplication, can we refactor this out as a static method in the Server class and then call it from here?

E.g:

  @staticmethod
  def sanitize_server_name(servername):
      if '-' not in servername:
          servername = '%s-server' % servername
      cmd = 'swift-%s' % servername
      return servername, cmd

Then in here in Manager.verify_server:

  server, cmd = Server.sanitze_server_name(server)

And in the constructor of Server:

  self.server, self.cmd = self.sanitize_server_name(self.server) 

NOTE: you can pick a better name

P.S: I was so tempted to spell sanitise correctly (non-american) :P",False,15
85225,trove/guestagent/strategies/upgrade/__init__.py,694,71,baada198_debbb50d,Line,24,,2014-07-15 16:49:02,I still don't understand why there's a wrapper to just call the import_class message. I won't minus one due to this but it doesn't seem like get_upgrade_strategy is being called from enough places to make it worthwhile.,False,15
85225,trove/guestagent/strategies/upgrade/__init__.py,6162,66,baada198_0a015239,Line,24,baada198_d6157540,2014-07-09 01:01:58,Done,False,15
47937,doc/source/review-security.rst,6987,17,baada198_db69d18c,Line,66,1ae5cdf2_f12c634c,2014-07-01 19:22:35,Done,False,15
85225,trove/tests/unittests/guestagent/test_upgrade.py,8415,74,baada198_b9cd9788,Line,25,,2014-07-19 11:03:02,"could you please simplify imports ?

from trove.guestagent.strategies.upgrade import metadata_mixin",False,15
122368,/COMMIT_MSG,5948,1,fa98f980_2da7f1a8,Line,12,,2014-09-18 09:50:52,"it doesn't implement bp, right? Please refer to a bug instead",False,15
85225,trove/guestagent/strategies/upgrade/__init__.py,8214,66,baada198_87cd8933,Line,24,baada198_d6157540,2014-07-07 21:04:31,+1,False,15
87082,nova/compute/api.py,5754,11,baada198_467ddeb0,Line,2851,baada198_80afe8e2,2014-07-02 00:56:46,"ok, will update",False,15
47937,doc/source/review-security.rst,6987,17,baada198_bb6c1d9e,Line,122,1ae5cdf2_df6fa45e,2014-07-01 19:22:35,Done,False,15
87082,nova/compute/api.py,5441,11,baada198_80afe8e2,Line,2851,,2014-07-01 17:31:25,"I'm concerned that this isn't the right list of states.  Can you provide some reasoning for why this list was chosen, and maybe update the commit message with it?",False,15
85225,trove/tests/unittests/guestagent/test_upgrade.py,8415,74,baada198_f9c38f55,Line,24,,2014-07-19 11:03:02,`import` statement should come before `from` statement,False,15
85225,trove/guestagent/heartbeat.py,6162,75,baada198_62ca356f,Line,50,baada198_b3467aa5,2014-07-21 20:11:50,Done,False,15
85225,trove/guestagent/heartbeat.py,8415,75,baada198_b3467aa5,Line,50,,2014-07-21 10:47:20,same,False,15
94295,nova/image/glance.py,8787,34,baada198_844335ae,Line,322,,2014-07-18 06:40:38,"Lines 304-322 duplicate _get_locations() one for one, and the only other place where _get_locations() is used is right in this class, so I just got rid of it and updated download() to use show(include_locations=True).",False,15
94295,nova/image/glance.py,8787,34,baada198_84ec15bd,Line,320,,2014-07-18 06:40:38,"Replaced with image.pop('locations', None) for readability.",False,15
94295,nova/image/glance.py,8787,34,baada198_84d5f5e6,Line,313,,2014-07-18 06:40:38,You forgot that _translate_from_glance() in the line above would have converted the image object back into a dict.,False,15
94295,/COMMIT_MSG,2271,40,baada198_6245e0b2,Line,31,,2014-07-27 21:44:26,We should get a DocImpact tag on this as well so the docs team knows to tell people this works.,False,15
91753,swift/common/manager.py,10206,1,baada198_d7f4b356,Line,353,1ae5cdf2_d0360552,2014-07-21 13:25:45,"Hi Nirmal,

Yes this is for the above listed servers and also for all the other servers like proxy, account-reaper and so on.",False,15
91753,swift/common/manager.py,7479,2,1abeadc6_6d0f59e2,Line,346,,2014-08-17 19:46:36,any reason not to make this @staticmethod and kill the first parm?,False,15
91753,swift/common/manager.py,10206,2,1abeadc6_a6c87d75,Line,346,1abeadc6_6d0f59e2,2014-08-19 03:37:22,"Hi Paul,

The method can be static as well. Will be submitting a new patch set.

Thanks for the comment :)",False,15
85225,trove/guestagent/strategies/upgrade/__init__.py,694,66,baada198_d6157540,Line,24,,2014-07-07 20:04:28,"All this function does is wrap import_class.

IIRC import_class can be a class or a function. So there isn't a good reason to not use it directly.",False,15
96877,manifests/site.pp,6554,37,baada198_0a146be7,Line,660,,2014-07-11 22:30:57,Any reason trusty would not work?,False,15
59578,nova/tests/network/test_neutronv2.py,4395,23,baada198_0dd5f746,Line,978,1ae5cdf2_2d5b7056,2014-08-05 16:43:49,I'd prefer to convert all these over in one shot later if that's okay with you.,False,15
59578,nova/tests/network/test_neutronv2.py,6873,25,baada198_f56db29b,Line,945,,2014-08-06 20:41:43,nit: s/security/security group/,False,15
96877,manifests/site.pp,7680,37,baada198_4a7f43e0,Line,660,baada198_0a146be7,2014-07-11 22:47:32,"Trusty is fine, better even I think, I was told that `Node-OS: trusty` doesn't do anything yet though.",False,15
85225,trove/guestagent/strategies/upgrade/__init__.py,6162,71,baada198_879c905f,Line,28,baada198_81149ca0,2014-07-15 20:53:24,will remove :),False,15
85225,trove/guestagent/strategies/upgrade/__init__.py,6162,71,baada198_4792784c,Line,28,baada198_4029f435,2014-07-15 20:53:24,will remove :),False,15
85225,trove/guestagent/strategies/upgrade/__init__.py,8214,71,baada198_81149ca0,Line,28,baada198_4029f435,2014-07-15 06:46:58,+1,False,15
95329,tests/publishers/fixtures/sounds001.yaml,6987,5,da9df570_2520fd48,Line,2,,2014-09-22 21:23:29,indentation,False,15
122368,neutron/agent/securitygroups_rpc.py,8976,3,da9df570_2b695e25,Line,296,da9df570_0c078f1d,2014-09-25 06:24:33,"thanks for your suggestion, I will modify it in next patch",False,15
85225,trove/guestagent/strategies/upgrade/__init__.py,8415,71,baada198_4029f435,Line,28,,2014-07-11 15:29:16,debug should not be translated,False,15
59578,nova/exception.py,6873,25,baada198_da829dc6,Line,646,,2014-08-06 20:41:43,"nit: probably for later cleanup, but the wording here is odd, maybe should be 'in order to boot instances on it.'.

I'm no English major but I play one on TV.",False,15
95329,jenkins_jobs/modules/publishers.py,6987,5,da9df570_25139d5d,Line,1920,,2014-09-22 21:23:29,"would it make sense to check that v is a valid results value similar to the check for success, unstable, failure, etc..?",False,15
94295,nova/virt/libvirt/driver.py,8787,34,baada198_a4875911,Line,2689,,2014-07-18 06:40:38,"Not sure if it's safe to change signature of fetch_func like that, I've made clone_fallback_to_fetch() fully transparent to avoid future breakage.",False,15
59578,/COMMIT_MSG,4395,25,baada198_8c7e2c6c,Line,29,baada198_757522ff,2014-09-15 21:17:20,i don't think there really is one just that someone asked me to add it.,False,15
122368,neutron/agent/securitygroups_rpc.py,6659,3,da9df570_0c078f1d,Line,296,,2014-09-23 12:43:20,Can remove i18n from debug level logs.,False,15
59578,/COMMIT_MSG,6873,25,baada198_757522ff,Line,29,,2014-08-06 20:47:06,"BTW, what is the doc impact here?",False,15
94295,nova/virt/libvirt/driver.py,8787,34,baada198_e48151fc,Line,2703,,2014-07-18 06:40:38,"Inconsistent code duplication like that is just asking for trouble, I've extracted the call to backend.cache() out of the conditional.",False,15
66882,tempest/scenario/test_multiple_az_ops.py,6167,20,baada198_5838c03a,Line,51,,2014-08-12 01:14:20,"The test failed with the following message:

Traceback (most recent call last):
  File ""tempest/scenario/test_multiple_az_ops.py"", line 51, in setUp
    username, password, tenant_name = self.admin_credentials()
TypeError: 'KeystoneV2Credentials' object is not iterable

We need to change here like BaremetalScenarioTest:

 582         # use an admin client manager for baremetal client
 583         admin_creds = cls.admin_credentials()
 584         manager = clients.OfficialClientManager(credentials=admin_creds)
 585         cls.baremetal_client = manager.baremetal_client",False,15
85225,trove/tests/unittests/guestagent/test_upgrade.py,8415,74,baada198_19c1234e,Line,29,,2014-07-19 11:03:02,same,False,15
85225,trove/tests/unittests/guestagent/test_upgrade.py,8415,75,baada198_f678e090,Line,23,,2014-07-21 10:47:20,"from trove.guestagent.upgrade import upgradeagent


And `import` statemets should come before `from` statements",False,15
122368,neutron/agent/linux/iptables_firewall.py,8976,2,da9df570_5a9fc903,Line,115,fa98f980_2f6ee5c9,2014-09-20 06:45:32,agree,False,15
122368,neutron/agent/linux/iptables_firewall.py,5948,2,fa98f980_2f6ee5c9,Line,115,,2014-09-19 10:55:22,consider using sorted() when comparing lists,False,15
122368,neutron/agent/linux/iptables_firewall.py,8976,2,da9df570_1a9541e4,Line,110,fa98f980_9a1ab116,2014-09-20 06:45:32,agree,False,15
122368,neutron/agent/linux/iptables_firewall.py,5948,2,fa98f980_9a1ab116,Line,110,,2014-09-19 10:55:22,consider squash below 2 methods into one _iptables_reload_needed():,False,15
85225,trove/tests/unittests/guestagent/test_upgrade.py,6162,75,baada198_a227edc5,Line,23,baada198_f678e090,2014-07-21 20:11:50,"http://docs.openstack.org/developer/hacking/#import-order-template

^ this looks like they want alphabetical order regardless of 'from' vs 'import'",False,15
122368,neutron/agent/linux/iptables_firewall.py,8976,2,da9df570_cbd769be,Line,69,fa98f980_3add4543,2014-09-20 06:45:32,"when there are some ports in one 'defer_apply', as long as there is a port which need to reload iptables, the _reload_iptables will be true. If the _reload_iptables be true initially, it can not be  distinguished",False,15
95329,tests/publishers/fixtures/sounds003.yaml,6987,5,da9df570_6503e5b8,Line,2,,2014-09-22 21:23:29,"Just curious, is the intention that the sounds should play in order that they appear on this list?",False,15
122368,neutron/agent/linux/iptables_firewall.py,5948,2,fa98f980_3add4543,Line,69,,2014-09-19 10:55:22,should it be True initially?,False,15
122368,/COMMIT_MSG,8976,2,da9df570_bafef536,Line,9,fa98f980_2c0fd3e2,2014-09-20 06:45:32,"agree, thanks for your suggestion",False,15
122368,/COMMIT_MSG,5948,2,fa98f980_2c0fd3e2,Line,9,,2014-09-19 10:55:22,"Consider: 
 When ipset is enabled on L2 agent, it does not need to reload 
 iptables if only members of security group were changed, 
 it should just update ipset set",False,15
122368,/COMMIT_MSG,8976,1,fa98f980_903ab4e5,Line,12,fa98f980_2da7f1a8,2014-09-18 10:36:59,got it,False,15
59578,nova/tests/network/test_neutronv2.py,6873,25,baada198_3551ead9,Line,909,,2014-08-06 20:41:43,"Seems this could be easily combined with the previous test, the only different is one line:

self.nets1[0]['port_security_enabled'] = False

Could move that into a common private method to remove the duplicate code.",False,15
85225,trove/guestagent/strategies/upgrade/__init__.py,6162,71,baada198_a7799432,Line,24,baada198_debbb50d,2014-07-15 20:53:24,"Agree w/ you.  I probably just missed this, I actually think we can remove the whole thing.  Consider it another artifact for following the backups implementation too closely.",False,15
85225,etc/trove/trove-guestagent.conf.sample,8214,66,baada198_c737814b,Line,100,,2014-07-07 21:04:31,"see my comments in cfg.py (regarding the lack of a header).

if a header is not introduced, i'd like the upgrade_ prefix to instead be agent_upgrade_ or guestagent_upgrade_; it's far more explicit.",False,15
89529,elements/ssh-hosts/os-refresh-config/pre-configure.d/1-ssh-hosts,10035,5,1abeadc6_a32b21ea,Line,24,,2014-08-18 17:23:18,I think I was not clear enough in a previous comment about this - why do we need to do the whole ssh config directory and not just the ssh host keys? It seems unnecessary that we backup the ssh config and this has the downside of us overwriting any upstream distro changes to these files.,False,15
85225,trove/guestagent/heartbeat.py,6162,75,baada198_42cff17e,Line,35,baada198_7350625e,2014-07-21 20:11:50,Done,False,15
63580,tests/yamlparser/fixtures/lazy-load-jobs001.yaml,1054,15,baa201ad_227c7320,Line,17,da9df570_374ad3c5,2014-09-30 14:17:17,"It does, but only because I also set the search path in the corresponding conf file - https://review.openstack.org/#/c/63580/15/tests/yamlparser/fixtures/lazy-load-jobs001.conf:

 [job_builder]
 include_path=tests/yamlparser/fixtures/lazy-load-scripts",False,15
63580,tests/yamlparser/fixtures/lazy-load-jobs001.yaml,6987,15,da9df570_374ad3c5,Line,17,,2014-09-23 19:18:58,in lazy-load-jobs002.yaml it's 'lazy-load-scripts/echo_vars_{version}.sh' which makes more sense but this also works?,False,15
63580,tests/yamlparser/fixtures/lazy-load-jobs001.xml,1054,15,baa201ad_02604f31,Line,21,da9df570_f7d12bfc,2014-09-30 14:17:17,I'll have a think about whether I make the code work in a more obvious way here or add the necessary documentation.,False,15
85225,trove/conductor/manager.py,6162,66,baada198_b1f29d6d,Line,89,baada198_a70b6d7b,2014-07-09 01:01:58,"yep, will wire this in now :)",False,15
73387,nova/virt/libvirt/driver.py,7746,10,baada198_e0304809,Line,4887,baada198_fd3c7195,2014-07-24 21:33:53,"OK, I see your point. Working on a new patch.",False,15
73387,nova/virt/libvirt/driver.py,7746,10,baada198_c8c4e642,Line,4887,baada198_939ea004,2014-07-29 23:17:28,Hashed out a solution with Nikola that simply throws a specific exception that is caught in compute.manager.prep_resize(). Not optimal but it's a temporary fix until migration for LVM is implemented.,False,15
73387,nova/virt/libvirt/driver.py,4912,10,baada198_939ea004,Line,4887,baada198_5fcc5834,2014-07-28 21:27:34,"That makes sense, but is not going to keep the scheduler from trying 3 times. This needs to be bubbled up to the scheduler somehow, no?",False,15
73387,nova/virt/libvirt/driver.py,7746,10,baada198_ff59ac29,Line,4887,baada198_4fe4ce0c,2014-07-25 13:55:25,"So I am trying to figure out how the check can be moved to compute.manager and am running into the abstraction barrier. Namely, it seems well nigh impossible to check whether an instance is being booted from volume in compute.manager, and even checking CONF.libvirt.images_type=='lvm' seems inappropriate since compute.manager should be virt driver agnostic. Do you have any suggestions on tackling these issues?",False,15
97286,climate/api/v2/controllers/extensions/lease.py,7166,3,baada198_9dee15ec,Line,110,,2014-07-11 15:07:49,"there is a WSME type for uuid, please use it here",False,15
96877,modules/openstack_project/manifests/livegrep.pp,7680,37,baada198_7a522768,Line,12,baada198_05e0f5f8,2014-07-11 14:50:27,"This was a random set of projects. I'm happy to add more stuff, but I didn't want to block this whole thing on producing a comprehensive list. Is there something you'd like added?",False,15
96877,modules/openstack_project/manifests/livegrep.pp,6786,37,baada198_05e0f5f8,Line,12,,2014-07-11 12:25:52,"Oh, it looks strange. IMO if we're adding livegrep than it should cover all of our projects at least in openstack / openstack-infra and openstack-dev organizations.",False,15
96877,modules/openstack_project/manifests/livegrep.pp,6316,31,baada198_b61c0415,Line,26,,2014-07-02 18:25:16,"I had a chat with Alex in IRC and the repos listed here are by no means a complete list, just enough to get us started. He will add more repos in a separate patch after we get the module in and running.",False,15
96877,modules/livegrep/templates/codesearch.json.erb,6554,37,baada198_8a287b34,Line,12,,2014-07-11 22:30:57,This is pretty clever! I like it.,False,15
96877,modules/livegrep/templates/codesearch.json.erb,1,31,baada198_d5aaabd1,Line,12,,2014-07-08 14:43:48,You should be able to iterate over the same hash key/value set as suggested above in openstack_repo.,False,15
96877,modules/livegrep/manifests/repo.pp,7680,37,baada198_3a5d0f7a,Line,8,baada198_85eb25db,2014-07-11 14:50:27,"As I've said, right now livegrep works better with Github as it's origin, we can improve this in the future.",False,15
96877,modules/livegrep/manifests/repo.pp,6786,37,baada198_85eb25db,Line,8,,2014-07-11 12:25:52,"Probably, it's better to use cgit or gerrit as source?",False,15
96877,modules/livegrep/manifests/openstack_repo.pp,7680,31,baada198_c9f776d3,Line,8,baada198_b5ad37ed,2014-07-08 16:21:56,"Right now livegrep assumes github URLs for the purposes of linking to the source code, can we defer this?",False,15
96877,modules/livegrep/manifests/openstack_repo.pp,1,31,baada198_b5ad37ed,Line,8,,2014-07-08 14:43:48,"Also, we should use https://git.openstack.org/... for our repos to reduce the chance that puppet hangs due to github issues.",False,15
96877,modules/livegrep/manifests/openstack_repo.pp,1,31,baada198_95a913e2,Line,1,,2014-07-08 14:43:48,"I think we can get rid of this openstackism by making this a generic livegrep::repo object that accepts both the name and the source URL.  Instead of passing in a list of names, pass in a hash of hashes like {'openstack/foo' => {source=>'https://git.openstack.org...', github=>'https://github.com'}} and then use create_resources to process the overall hash.

The ""name"" should always be the full ""openstack/foo"" rather than ""foo"", that way these don't have to have any openstack assumptions.

Or better yet, have a script like jeepyb keep them all up to date automatically.",False,15
96877,modules/livegrep/manifests/init.pp,6554,38,baada198_c9196c89,Line,136,,2014-07-21 19:04:04,"I think we want Livegrep::Repo[$repos] here. I'm also not sure that this works.

Might need to add a before, notify to the 'default' section of the create_resources.

Could also try something like

Livegrep::Repo<| |> -> Service['codesearch']",False,15
96877,modules/livegrep/manifests/init.pp,6554,38,baada198_090d24e8,Line,51,,2014-07-21 19:04:04,"It makes sense to do this with only one core, so as to not block the rest of the app. Can you remove the -j8?",False,15
85225,trove/guestagent/datastore/mysql/manager.py,8214,66,baada198_67631542,Line,25,,2014-07-07 21:04:31,http://docs.openstack.org/developer/hacking/#import-order-template,False,15
63580,tests/yamlparser/fixtures/lazy-load-jobs001.xml,6987,15,da9df570_f7d12bfc,Line,21,,2014-09-23 19:18:58,using include-raw here but the resulting xml is no different than when using include-raw-escape.  The docs clearly state that there should be something different between the two.  Your commit message seems to indicate that there's an exception for this use case but it's not documented so I think it will be confusing.  Maybe the solution is to just add some more documentation to clarify this situation?,False,15
85225,trove/conductor/manager.py,8214,66,baada198_a70b6d7b,Line,89,,2014-07-07 21:04:31,"model has merged, no?",False,15
47937,modules/openstack_project/templates/security-review.projects.ini.erb,6987,19,baada198_89b2de94,Line,4,baada198_e51553e6,2014-07-29 11:00:03,Done,False,15
85225,trove/common/cfg.py,8415,74,baada198_19e04325,Line,450,,2014-07-19 11:03:02,"since there's similar option for in default group, i'd suggest to name it like: ""external_swift_url""",False,15
85225,trove/common/cfg.py,6162,72,baada198_f17be6bb,Line,444,baada198_84663c28,2014-07-17 17:08:26,It should belong to the guest_upgrade group.,False,15
85225,etc/trove/trove-guestagent.conf.sample,6162,66,baada198_8a080d93,Line,100,baada198_c737814b,2014-07-09 01:01:58,Will consolidate under one GUEST_UPGRADE header,False,15
85225,etc/trove/trove-guestagent.conf.sample,8415,71,baada198_c08a6463,Line,106,,2014-07-11 15:25:43,pick another password,False,15
85225,etc/trove/trove-guestagent.conf.sample,6162,71,baada198_6ce683b2,Line,106,baada198_0197ac48,2014-07-15 20:53:24,"The idea here is that 'default_upgrade_aes_cbc_key' would be replaced by deployment scripts for the actual value.

It is unique to avoid non-intentional matches.",False,15
85225,etc/trove/trove-guestagent.conf.sample,8415,71,baada198_13019baf,Line,106,baada198_6ce683b2,2014-07-15 21:05:58,"i though it was equal to backup key, so, just ignore this comment.",False,15
85225,etc/trove/trove-guestagent.conf.sample,8214,71,baada198_0197ac48,Line,106,baada198_c08a6463,2014-07-15 06:46:58,"can you elaborate denis, not sure i understand what you're advocating for?",False,15
85225,etc/trove/trove-guestagent.conf.sample,5390,72,baada198_64612811,Line,109,,2014-07-16 05:43:42,"Hey Dan, i think the swift_auth_url is already defined (swift_url). Look at line 52.

Maybe it is very late and i need to sleep but i didnt see these config values being referenced in your patch. Are they being used?",False,15
85225,etc/trove/trove-guestagent.conf.sample,6162,72,baada198_b1aa4e18,Line,109,baada198_64612811,2014-07-17 17:08:26,"yep, you are correct but this one is under the new [Guest_UPGRADE] group.

So, you actually get to it another level down like this.

CONF.guest_upgrade.swift_auth_url

The reason it's here at all is to give folks the option of using a different swift location then the backups, etc.",False,15
85225,trove/common/cfg.py,8214,66,baada198_a757edc8,Line,207,,2014-07-07 21:04:31,"help string needs to end in a period (otherwise someone will file a bug to fix it, bloating the commit log)",False,15
85225,trove/common/cfg.py,6162,66,baada198_aa3a31e5,Line,207,baada198_a757edc8,2014-07-09 01:01:58,Done,False,15
85225,trove/common/cfg.py,8214,66,baada198_e7748569,Line,210,,2014-07-07 21:04:31,"help string needs to end in a period (otherwise someone will file a bug to fix it, bloating the commit log)",False,15
85225,trove/common/cfg.py,6162,66,baada198_ca3f65d5,Line,210,baada198_e7748569,2014-07-09 01:01:58,Done,False,15
85225,trove/guestagent/datastore/mysql/manager.py,6162,66,baada198_ea133e0b,Line,25,baada198_67631542,2014-07-09 01:01:58,Done,False,15
85225,trove/common/cfg.py,8214,66,baada198_0793395b,Line,429,,2014-07-07 21:04:31,"1. i'd change the title from ""virtualenv Guest Agent upgrade options' to 'guest agent upgrade options'. the fact that a virtualenv is used is an implementation detail, and might even change depending on the namespace/strategy in use.

2.

other OptGroups actually have the opts under the header.

ex:

    [mongodb]
    tcp_ports = ...

here, you've defined upgrade_metadata, but in the trove-guestagent.conf in this patch-set, these parameters aren't under [upgrade_metadata]?

if they are supposed to be under [upgrade_metadata], then the upgrade_ prefixes for all of the options can be removed as they are redundant.

3. i would really prefer ""agent_upgrade_metadata"" or ""guestagent_upgrade_metadata"" to ""upgrade_metadata""; it's far more explicit.",False,15
85225,trove/common/cfg.py,8214,66,baada198_276bdd85,Line,434,,2014-07-07 21:04:31,"help string needs to end in a period (otherwise someone will file a bug to fix it, bloating the commit log)",False,15
85225,trove/common/cfg.py,6162,66,baada198_d0a9d2e0,Line,434,baada198_276bdd85,2014-07-09 01:01:58,Done,False,15
85225,trove/common/cfg.py,8214,66,baada198_27483dcb,Line,437,,2014-07-07 21:04:31,Needs help text.,False,15
85225,trove/common/cfg.py,6162,66,baada198_714ac5ad,Line,437,baada198_27483dcb,2014-07-09 01:01:58,Done,False,15
85225,trove/common/cfg.py,8214,66,baada198_474371ae,Line,440,,2014-07-07 21:04:31,Needs help text.,False,15
85225,trove/common/cfg.py,6162,66,baada198_91c67915,Line,440,baada198_474371ae,2014-07-09 01:01:58,Done,False,15
85225,trove/common/cfg.py,8214,66,baada198_476611bc,Line,446,,2014-07-07 21:04:31,"help text here is a bit misleading.

also, help string needs to end in a period (otherwise someone will file a bug to fix it, bloating the commit log)",False,15
85225,trove/common/cfg.py,6162,66,baada198_f0adf6eb,Line,446,baada198_476611bc,2014-07-09 01:01:58,Done,False,15
85225,trove/common/cfg.py,8415,71,baada198_b312af07,Line,433,,2014-07-15 21:05:58,should be marked as secret,False,15
85225,trove/common/cfg.py,8415,71,baada198_f3f347e5,Line,439,,2014-07-15 21:05:58,should be marked as secret,False,15
85225,trove/common/cfg.py,5390,72,baada198_84663c28,Line,444,,2014-07-16 05:43:42,This may already be defined as swift_url,False,15
85225,trove/common/cfg.py,6162,66,baada198_d159d18f,Line,429,baada198_0793395b,2014-07-09 01:01:58,"I created a group that is inclusive of all guest_upgrade properties.  We will not distinguish metadata properties from the other guest upgrade properties.  Let me know if this works.

[GUEST_UPGRADE]
# Properties for guest upgrade strategy
namespace =  trove.guestagent.strategies.upgrade.pip.Pip
guestagent_version_source = trove.guestagent.version.PipVersionSource

# Guest upgrade metadata properties
aes_cbc_key = ""default_upgrade_aes_cbc_key""
swift_public_key = default_upgrade_swift_public_key
swift_private_key = defalut_upgrade_swift_private_key
swift_auth_url = default_upgrade_swift_auth_url
swift_tenant_name = default_upgrade_swift_tenant_name",False,15
85225,trove/guestagent/datastore/mysql/manager.py,8415,75,baada198_56734c7f,Line,225,,2014-07-21 10:47:20,"again, why only mysql?",False,15
85225,trove/guestagent/datastore/mysql/manager.py,6162,75,baada198_4273717f,Line,225,baada198_56734c7f,2014-07-21 20:11:50,Done,False,15
47937,doc/source/review-security.rst,6987,17,baada198_9bf59985,Line,44,1ae5cdf2_9f799c31,2014-07-01 19:22:35,Done,False,15
97799,scripts/devtest_undercloud.sh,9453,1,fa98f980_bb10144f,Line,272,,2014-09-12 05:07:09,"While this indentation makes sense in the shell script, it looks strange in our documentation - because the if on line 269 is #nodocs, this code is indented for no apparent reason.

IMO this is a bug in our docs generation system (and it's one that I'm working on fixing), but for now we need to choose between having correct indentation in our script, or having sensible-looking docs. Usually we've chosen to have the docs looking sensible at the expense of the script.",False,15
89529,elements/ssh-hosts/os-refresh-config/pre-configure.d/1-ssh-hosts,10035,5,1abeadc6_8373854c,Line,1,,2014-08-18 17:23:18,"This file needs to be named 01-ssh-hosts or 10-ssh-hosts, not 1-.",False,15
85225,trove/guestagent/datastore/service.py,8214,66,baada198_0724190b,Line,24,,2014-07-07 21:04:31,"according to hacking rules, trove.guestagent imports should be before trove.openstack (alpha-ordering)
see http://docs.openstack.org/developer/hacking/#import-order-template",False,15
85225,trove/guestagent/datastore/service.py,6162,66,baada198_8aa002a7,Line,24,baada198_0724190b,2014-07-09 01:01:58,Done,False,15
89529,elements/ssh-hosts/os-refresh-config/pre-configure.d/1-ssh-hosts,10035,5,1abeadc6_e38359ca,Line,26,,2014-08-18 17:23:18,We dont actually need to restart ssh here?,False,15
89529,elements/ssh-hosts/os-refresh-config/pre-configure.d/1-ssh-hosts,10035,5,1abeadc6_a3b6c1da,Line,30,,2014-08-18 17:23:18,"Styling nit, but why are we using [[ ]] here and [] in the conditional above? Lets just use [ ] unless were using a bashism of some kind.",False,15
85225,trove/guestagent/datastore/service.py,8415,71,baada198_c0fd04b3,Line,23,,2014-07-11 15:29:16,remove # noqa,False,15
85225,trove/guestagent/datastore/service.py,6162,71,baada198_b83e0eb8,Line,23,baada198_c0fd04b3,2014-07-15 20:53:24,Done,False,15
85225,trove/guestagent/datastore/service.py,8214,71,baada198_937a2f75,Line,137,,2014-07-15 06:46:58,this is side-stepping H703 (see http://docs.openstack.org/developer/hacking/#internationalization-i18n-strings). should be using keyword parameters.,False,15
85225,trove/guestagent/datastore/service.py,8415,71,baada198_a96fc6c2,Line,137,baada198_937a2f75,2014-07-15 07:32:09,+1,False,15
85225,trove/guestagent/datastore/service.py,8415,75,baada198_160d54e8,Line,23,,2014-07-21 10:47:20,should come after logging import,False,15
97799,/COMMIT_MSG,9453,1,fa98f980_9b13505b,Line,10,,2014-09-12 05:07:09,"I'd prefer this message to be more explict about what is being skipped here - I was expecting it to only be init-keystone, but we're also skipping some neutron nova setup, as well as setup-baremetal.",False,15
85225,trove/guestagent/datastore/service.py,6162,75,baada198_42fa91bd,Line,23,baada198_160d54e8,2014-07-21 20:11:50,Done,False,15
85225,trove/guestagent/heartbeat.py,6162,66,baada198_aa2f86f5,Line,16,baada198_27767d06,2014-07-09 01:01:58,Done,False,15
85225,trove/guestagent/heartbeat.py,8214,71,baada198_a130c056,Line,22,,2014-07-15 06:46:58,"according to hacking rules, this import should be underneath ""from trove.guestagent import version""",False,15
85225,trove/guestagent/heartbeat.py,6162,71,baada198_ec7e13af,Line,22,baada198_a130c056,2014-07-15 20:53:24,Done,False,15
85225,trove/guestagent/heartbeat.py,8214,71,baada198_01416ca8,Line,37,,2014-07-15 06:46:58,"as an fyi: https://bugs.launchpad.net/trove/+bug/1339349 (not suggesting you fix it here, just to be aware)",False,15
85225,trove/guestagent/heartbeat.py,6162,71,baada198_870c903d,Line,37,baada198_01416ca8,2014-07-15 20:53:24,"Update the bug with this link.

thx!",False,15
90498,/COMMIT_MSG,10987,6,1abeadc6_f1565bcd,Line,7,,2014-08-20 19:15:37,It seems that it would be better s/Add/Adds,False,15
85225,trove/guestagent/heartbeat.py,8415,74,baada198_99cb73a3,Line,35,,2014-07-19 11:03:02,should not be wrapped,False,15
85225,trove/guestagent/heartbeat.py,8415,74,baada198_b9c3d788,Line,50,,2014-07-19 11:03:02,same,False,15
85225,trove/guestagent/heartbeat.py,8415,75,baada198_56fa6cbd,Line,20,,2014-07-21 10:47:20,"from trove.openstack.common import log as logging

from trove.openstack.common.gettextutils import _",False,15
85225,trove/guestagent/heartbeat.py,6162,75,baada198_22b59dec,Line,20,baada198_56fa6cbd,2014-07-21 20:11:50,Done,False,15
85225,trove/guestagent/heartbeat.py,8415,75,baada198_7350625e,Line,35,,2014-07-21 10:47:20,shouldn't be wrapped,False,15
85225,trove/guestagent/heartbeat.py,8214,66,baada198_27767d06,Line,16,,2014-07-07 21:04:31,these imports are not following hacking rules: http://docs.openstack.org/developer/hacking/#import-order-template,False,15
90498,/COMMIT_MSG,10987,6,1abeadc6_51f8efc2,Line,9,,2014-08-20 19:15:37,Probably s/Using/Uses/ and s/memory used/memory that is used/ would be better,False,15
89529,elements/ssh-hosts/README.md,10035,5,1abeadc6_632029f8,Line,8,,2014-08-18 17:23:18,One big gotcha id like documented about this - There will be a brief period where sshd is started up with the ssh keys generated by cloud-init before we move over the old host keys and restart ssh.,False,15
87082,nova/tests/api/openstack/compute/plugins/v3/test_attach_interfaces.py,6167,13,baada198_9244de73,Line,386,,2014-07-22 06:03:30,"This patch conflicts api validation work so it is necessary to change here to:

 body=jsonutils.loads(req.body))",False,15
47937,modules/openstack_project/templates/security-review.projects.ini.erb,6554,19,baada198_e51553e6,Line,4,,2014-07-28 21:46:05,Lets use @local_git_dir here and the rest of the file so we don't get deprecation warnings.,False,15
63580,/COMMIT_MSG,1054,12,baada198_cd6186a3,Line,18,baada198_e0f661d7,2014-08-11 15:16:32,"That's a bug, since that was the intention. Users would define by using '!include-raw-escape' and the code would tell LazyLoader to use the constructor for '!include-raw' instead when reading in the finally resolved file name contents.",False,15
63580,/COMMIT_MSG,6987,12,baada198_e0f661d7,Line,18,,2014-08-02 13:34:43,The lazy-load-jobs001.yaml doesn't work  when i replace 'include-raw' with 'include-raw-escape'.  I think this is  confusing because the docs currently say you should use 'include-raw-escape' for files with braces.  I think we should either support 'include-raw-escape' for this use case OR add documentation to let users know that you cannot use 'include-raw-escape' in this case.  I would prefer the former if it can easily be done.,False,15
63580,/COMMIT_MSG,1054,12,baada198_6ddb1a7d,Line,13,baada198_a03b8999,2014-08-11 15:16:32,"Not quite, it's a reference that when creating a LazyLoader object to wrap the file referenced by '!include', the same tag name also needs to be passed to the object so it knows which constructor to call subsequently. Similarly for '!include-raw', however for '!include-raw-escape' the LazyLoader object should be told to use '!include-raw' instead since it will directly return a result for the <str>.format call used by the JJB's substitution approach. Where as for normal loading the 'format' method would be called on the result, which is why in a job-template definition we need to escape all braces in the file being read first.

I'll look at rephrasing this, the intent is to describe what is going on within the LazyLoader code rather than how it would be used so that someone debugging or considering making a change can determine the original intent from the commit message.",False,15
63580,/COMMIT_MSG,6987,12,baada198_a03b8999,Line,13,,2014-08-02 13:34:43,what is the definition of comparable?  I assume what you mean is 'wrapper' for 'wrappers' but what about the other jjb modules?  I think there needs to be additional documentation to clarify this.,False,15
87090,jenkins_jobs/builder.py,1054,5,baada198_3c7c64b5,Line,589,,2014-07-10 12:15:09,"I that for now, if you're not adding the list jobs on the server functionality, then 'fn' should be a required parameter.",False,15
87090,jenkins_jobs/builder.py,1054,5,baada198_5c4af883,Line,595,,2014-07-10 12:15:09,"Since you set a default it requires someone to set the 'fn' arg to 'None' to get the else behaviour. Until this lists the jobs on the server, the if/else is redundant since returning a glob if one is set isn't useful. 

You could just change this line to be something like the following (untested):

 jobs = [j.name for j in self.jenkins.get_jobs()
         if not jobs_name_globs or matches(j.name, job_name_globs)]

And it should get the jobs from the remote and apply the filter

But I think it should be one or the other, remove the if/else or add the call to get the current jobs from the master.",False,15
97286,climate/api/v2/controllers/extensions/lease.py,9331,3,baada198_2ee826e1,Line,110,baada198_9dee15ec,2014-07-21 21:28:43,Done,False,15
97286,climate/api/v2/controllers/extensions/lease.py,7166,3,baada198_5d739d7f,Line,114,,2014-07-11 15:07:49,"If we need to check that an user is admin, I would prefer to set the is_admin flag at the context creation level by checking the policy there (so in api.context file) so the check here would only be :

 if not context.is_admin :",False,15
97286,climate/api/v2/controllers/extensions/lease.py,9331,3,baada198_4ee39a04,Line,114,baada198_5d739d7f,2014-07-21 21:28:43,Done,False,15
73387,nova/virt/libvirt/driver.py,7746,10,baada198_fd3c7195,Line,4887,baada198_4fe4ce0c,2014-07-18 15:31:54,I certainly do not have a solid grasp on the path this exception takes but in my experiments with devstack the behavior I observe is that the original instance remains in an active state and is not rescheduled following the exception. The migration target host never performs any actions with regard to migration at all. You can see the output of n-cpu here http://paste.openstack.org/,False,15
87882,swift/container/server.py,7479,3,fa98f980_e16a9080,Line,112,,2014-09-07 03:38:53,need to update comment,False,15
73387,nova/virt/libvirt/driver.py,7746,10,baada198_5fcc5834,Line,4887,baada198_4fe4ce0c,2014-07-25 14:08:06,Do you think adding driver.can_migrate_instance() would work?,False,15
47937,modules/openstack_project/templates/security-review.projects.ini.erb,6987,18,baada198_23d08ac8,Line,5,baada198_daaffd92,2014-07-03 17:29:11,it's the same in review.projects.ini.erb and review-dev.projects.ini.erb so I think it would be better to update this in all files with a seperate change.,False,15
47937,modules/openstack_project/templates/security-review.projects.ini.erb,7233,18,baada198_27fe4f39,Line,5,baada198_23d08ac8,2014-07-08 22:13:17,"Sure, as long as its done before we use puppet 3 exclusively.",False,15
59578,nova/tests/network/test_neutronv2.py,6873,25,baada198_35b56a32,Line,1417,,2014-08-06 20:41:43,A better wrinkle might be to not set this in the net dict since the code is checking if the key is in the dict...unless we change the code to default to True.,False,15
47937,modules/openstack_project/templates/security-review.projects.ini.erb,7233,18,baada198_daaffd92,Line,5,,2014-07-02 04:21:27,"The instance variable representation of accessing variables should be used so we don't get deprecated warnings when we migrate over to puppet 3. 

I.e. @local_git_dir rather then local_git_dir.

See: http://docs.puppetlabs.com/guides/templating.html#referencing-variables",False,15
47937,modules/openstack_project/manifests/review_security.pp,6987,17,baada198_db90f1ee,Line,102,1ae5cdf2_395bbb2f,2014-07-01 19:22:35,Done.  I've changed the email to security-review@o.o.  I've decided to leave the parameterization for another change.,False,15
59578,nova/tests/network/test_neutronv2.py,6873,25,baada198_75e5223d,Line,1402,,2014-08-06 20:41:43,"Very similar to the test before it, just the difference in assertion checking depending on if port_security_enabled is True or False; the tests could be combined with that logic to remove the duplicate code, but won't -1 for that.  Just a note in case you rev the change.",False,15
59578,nova/tests/network/test_neutronv2.py,6873,25,baada198_151786f0,Line,977,,2014-08-06 20:41:43,Check is not None instead?,False,15
59578,nova/tests/network/test_neutronv2.py,6873,25,baada198_35ff2aad,Line,955,,2014-08-06 20:41:43,Default security_groups_on_ports=None?,False,15
87082,nova/tests/api/openstack/compute/plugins/v3/test_attach_interfaces.py,5754,13,baada198_8df3e307,Line,386,baada198_9244de73,2014-07-22 06:06:45,thanks,False,15
87882,/COMMIT_MSG,7479,3,fa98f980_e1bc5009,Line,15,,2014-09-07 03:38:53,"do you mean ""same as object PUT and...""",False,15
87882,/COMMIT_MSG,7479,3,fa98f980_a1f7a8d3,Line,17,,2014-09-07 03:38:53,"I don't totally understand this, maybe I'm missing something simple but in object PUT if the container server can't be reached it will count on the object-updater.  In the account server PUT code it looks like 404 is because the account is deleted, why is that something we shouldn't error on and expect it to work later on?",False,15
73387,nova/virt/libvirt/driver.py,5511,10,baada198_4fe4ce0c,Line,4887,,2014-07-18 11:31:52,"So if this throws - it will eventually bubble up in the prep_resize method of the old compute host, which will in turn trigger a reschedule - which makes no sense, and is not what we want.

We might want to add a check step (similar but more lightweight than what we do for live mig), but assuming that we want to implement this kind of stuff for lvm backed instances - maybe a workaround like this is better (it is my understanding that lvm backend is currently purely a workaround for an ext4 performance bug so not sure how fully featured we want it to be).

Still - we don't want to reschedule (it will just do the same thing 3 times) so we might want to make sure that will not happen in the compute.manager with a specific exception that will block that from happening.",False,15
85225,trove/tests/unittests/guestagent/test_upgrade.py,8415,71,baada198_897a0275,Line,21,baada198_a168c0f5,2014-07-15 07:32:09,+1,False,15
94295,nova/virt/libvirt/driver.py,8787,34,baada198_44767d40,Line,2692,,2014-07-18 06:40:38,"Why would you mask all possible exceptions like that? If clone should have worked and didn't, such failure shouldn't be silently ignored.",False,15
85225,trove/tests/unittests/guestagent/test_upgrade.py,8415,71,baada198_69876e61,Line,1,baada198_e1a0f843,2014-07-15 07:32:09,does it really matter ?,False,15
110817,etc/barbican/barbican-api.conf,9234,1,baada198_a70e3be2,Line,160,,2014-08-03 00:18:18,might want to zap those trailing spaces and make Gerrit happier.,False,15
110817,bin/barbican-keystone-listener.sh,9234,1,baada198_870937de,Line,3,,2014-08-03 00:18:18,"Script ""to run"" ...",False,15
110817,bin/barbican-keystone-listener.py,9234,1,baada198_c71def11,Line,31,,2014-08-03 00:18:18,A nice big comment on what's needed for debugging would be awesome (like uncommenting the config.setup_remote_pydev_debugging call below).,False,15
110817,bin/barbican-keystone-listener.py,9234,1,baada198_a7255b5c,Line,28,,2014-08-03 00:18:18,a comment on why this is commented out would be great.,False,15
110817,barbican/tests/tasks/test_keystone_consumer.py,1091,13,fa98f980_6fe1b499,Line,40,fa98f980_460a92d3,2014-09-02 21:15:50,Thanks. Will check that patch and see if I can improve on.,False,15
110817,barbican/tests/tasks/test_keystone_consumer.py,9234,13,fa98f980_460a92d3,Line,40,,2014-08-31 03:36:03,dstufft is also doing some work setting up tests using in-memory db.  See https://review.openstack.org/#/c/117030/1/barbican/tests/model/test_repositories.py,False,15
110817,barbican/tests/tasks/test_keystone_consumer.py,1091,11,1abeadc6_09b0508a,Line,29,1abeadc6_7d8fc223,2014-08-26 18:05:52,Same reply as above.,False,15
110817,barbican/tests/tasks/test_keystone_consumer.py,10873,11,1abeadc6_7d8fc223,Line,29,,2014-08-26 16:10:06,This would be changed if you depend on the CR mentioned above.,False,15
110817,barbican/tests/tasks/test_keystone_consumer.py,1091,11,1abeadc6_e9b9547a,Line,16,1abeadc6_fd7bd226,2014-08-26 18:05:52,"Thanks for pointing that out. Not sure how to add dependency now. I have tried in past and it used to be difficult to keep in sync with original dependency patch updates.

Will use oslotest in my tests and will rebase once more after  above mentioned patch is merged.",False,15
110817,barbican/tests/tasks/test_keystone_consumer.py,10873,11,1abeadc6_fd7bd226,Line,16,,2014-08-26 16:10:06,"you should take a look at this CR https://review.openstack.org/#/c/116700/ by Steve, maybe your commit should depend on it.",False,15
110817,barbican/tests/queue/test_ks_listener.py,1091,7,1abeadc6_afec77f4,Line,38,1abeadc6_55437a41,2014-08-20 22:42:22,Yes..will fix in next patch.,False,15
110817,barbican/tests/queue/test_ks_listener.py,7262,7,1abeadc6_55437a41,Line,38,,2014-08-20 19:35:19,Should be using six.iteritems(...),False,15
110817,barbican/tests/queue/test_keystone_listener.py,10873,11,1abeadc6_bdca3a9f,Line,29,,2014-08-26 16:10:06,not relevant: props to you expressing Mixin pattern! :D I find your naming and usage of this class to be quite classy and explicit.,False,15
110817,barbican/tests/plugin/test_resource.py,1091,16,fa98f980_49cd1e5d,Line,97,fa98f980_36192723,2014-09-08 18:52:46,"Actually I have not made any change in this code. This is existing code. I think my editor just added space before \.

I will remove that auto-correction. So that its not included as change.",False,15
110817,barbican/tests/plugin/test_resource.py,10873,16,fa98f980_36192723,Line,97,,2014-09-08 11:57:54,"Could you please not use the ""\"" notation? it will not be legal in the newer hacking checks.",False,15
110817,barbican/tests/plugin/test_resource.py,1091,16,fa98f980_09ecf6c6,Line,37,fa98f980_76d2cf35,2014-09-08 18:52:46,"Actually I have not made any change in this code. This is existing code. I think my editor just added space before \.

I will remove that auto-correction. So that its not included as change.",False,15
110817,barbican/tests/plugin/test_resource.py,10873,16,fa98f980_76d2cf35,Line,37,,2014-09-08 11:57:54,same comment as below,False,15
110817,barbican/tasks/resources.py,1091,7,1abeadc6_0f0e4be5,Line,356,1abeadc6_75123658,2014-08-20 22:42:22,"All of delete APIs expects id (not keystone project id) of barbican tenant. Otherwise, related queries will have to unnecessarily make join with tenant entity to use its 'id' which is referred in other associations.

As mentioned in docstring of all delete APIs

tenant_id: id of barbican tenant (project) entity",False,15
110817,barbican/tasks/resources.py,7262,7,1abeadc6_75123658,Line,356,,2014-08-20 19:35:19,Why are we getting project.id when we're passing in project_id? Shouldn't we just use project_id?,False,15
110817,barbican/tasks/resources.py,1091,7,1abeadc6_ef658fb5,Line,308,1abeadc6_b11a237b,2014-08-20 22:42:22,Yes. Its not optional. Will change it in next patch.,False,15
110817,barbican/tasks/resources.py,7262,7,1abeadc6_b11a237b,Line,308,,2014-08-20 19:35:19,project_id doesn't look optional here.,False,15
110817,barbican/tasks/resources.py,1091,3,baada198_0b02edb9,Line,275,baada198_a23126f0,2014-08-07 15:44:44,"It was a correction as found out through unit tests.
self.repos is rep.Repositories class instance which does not have this method.",False,15
110817,barbican/tasks/resources.py,9234,3,baada198_a23126f0,Line,275,,2014-08-07 14:23:15,why change from self.repos?,False,15
110817,barbican/tasks/resources.py,1091,3,baada198_4b3ea58c,Line,209,baada198_bf4a1fab,2014-08-07 15:44:44,"Kind of makes sense though logic here only deals with delete project event. If there is change in event type handling, then I will think, consumer logic will also have related change.
So I was trying to highlight that. What do you think?",False,15
110817,barbican/tasks/resources.py,9234,3,baada198_bf4a1fab,Line,209,,2014-08-07 14:23:15,"Thinking about this more - what do you think about just getting rid of this comment as that limitation is handled in the listener? That way, if we change things then this comment doesn't get outdated.",False,15
110817,barbican/tasks/resources.py,1091,3,baada198_4ba225fd,Line,205,baada198_ff5c9782,2014-08-07 15:44:44,It becomes long name. Let me see if I can find make it shorter with Keystone...,False,15
110817,barbican/tasks/resources.py,9234,3,baada198_ff5c9782,Line,205,,2014-08-07 14:23:15,can you spell out Keystone in the class name?,False,15
110817,barbican/tasks/resources.py,9234,1,baada198_875217d8,Line,247,,2014-08-03 00:18:18,typo in Keystone,False,15
110817,barbican/tasks/resources.py,9234,1,baada198_475c7ff0,Line,240,,2014-08-03 00:18:18,spell out Keystone?,False,15
110817,etc/barbican/barbican-api.conf,9234,3,baada198_c28c5a83,Line,188,,2014-08-07 14:23:15,how do we decide how many threads to use?,False,15
110817,etc/barbican/barbican-api.conf,1091,3,baada198_1134daaa,Line,188,baada198_c28c5a83,2014-08-07 16:42:08,"barbican.openstack.common.service.Service class by default uses 1000. That seems pretty high and decided to add override value for notification processing. I think project delete is not a frequent occurrence in keystone so generally we don't need to have such a high value. 
If needed, deployment can tune it as per their setup but 10 (coming from 1000) seems reasonable default. Also in internal  performance testing of python application(s), observation is that lower number of threads is better (w.r.t. multi-process) in terms of context switching overhead with green threads.",False,15
110817,etc/barbican/barbican-api.conf,9234,13,fa98f980_a64a5e25,Line,178,,2014-08-31 03:36:03,"should match the default in the code (which is just ""notifications"").  I put a comment in the code as well.

https://review.openstack.org/#/c/110817/13/barbican/queue/__init__.py",False,15
110817,etc/barbican/barbican-api.conf,1091,13,fa98f980_6f1614f3,Line,178,fa98f980_a64a5e25,2014-09-02 21:15:50,"Yes, it should match. I will correct this in sync in next patch.",False,15
112880,openstack_dashboard/dashboards/admin/volumes/tests.py,12299,17,fa98f980_9d6b32f0,Line,165,,2014-09-04 11:14:20,ditto (constants),False,15
112880,openstack_dashboard/dashboards/admin/volumes/tests.py,12814,17,fa98f980_dcb679f8,Line,161,fa98f980_7d6a0eef,2014-09-05 12:44:43,Done,False,15
112880,openstack_dashboard/dashboards/admin/volumes/tests.py,12299,17,fa98f980_7d6a0eef,Line,161,,2014-09-04 11:14:20,ditto (constants),False,15
112880,openstack_dashboard/dashboards/admin/volumes/tests.py,12814,17,fa98f980_1ccc8188,Line,147,fa98f980_3da5e646,2014-09-05 12:44:43,Done,False,15
112880,openstack_dashboard/dashboards/admin/volumes/tests.py,12299,17,fa98f980_3da5e646,Line,147,,2014-09-04 11:14:20,ditto (formatting),False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/views.py,12814,17,fa98f980_9c3231a5,Line,75,fa98f980_9d241261,2014-09-05 12:44:43,Done,False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/views.py,12299,17,fa98f980_9d241261,Line,75,,2014-09-04 11:14:20,ditto from other file (constants),False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/views.py,12814,17,fa98f980_7c2f4d3f,Line,73,fa98f980_dd213a4e,2014-09-05 12:44:43,Done,False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/views.py,12299,17,fa98f980_dd213a4e,Line,73,,2014-09-04 11:14:20,ditto from other file (constants),False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/views.py,12814,17,fa98f980_bc25355d,Line,28,fa98f980_ddfa1abc,2014-09-05 12:44:43,Done,False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/views.py,12299,17,fa98f980_ddfa1abc,Line,28,,2014-09-04 11:14:20,The same import twice? Line 29 imports exactly the same thing.,False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/tests.py,12814,17,fa98f980_5c6609bc,Line,176,fa98f980_5d60eaa4,2014-09-05 12:44:43,Done,False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/tests.py,12299,17,fa98f980_5d60eaa4,Line,176,,2014-09-04 11:14:20,ditto (constants),False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/tests.py,12814,17,fa98f980_3c6b0586,Line,159,fa98f980_dd73fa7d,2014-09-05 12:44:43,Done,False,15
110817,barbican/tasks/resources.py,9234,1,baada198_274ceb3e,Line,209,,2014-08-03 00:18:18,"I think you mean ""processes""",False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/tests.py,12299,17,fa98f980_dd73fa7d,Line,159,,2014-09-04 11:14:20,fditto (formating),False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/tests.py,12299,17,fa98f980_1d53c2e2,Line,141,,2014-09-04 11:14:20,ditto (constants),False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/tests.py,12814,17,fa98f980_3c0225b4,Line,127,fa98f980_5d070aca,2014-09-05 12:44:43,Done,False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/tests.py,12299,17,fa98f980_5d070aca,Line,127,,2014-09-04 11:14:20,ditto (formating),False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/tests.py,12814,17,fa98f980_1cf721d4,Line,123,fa98f980_3d67a6b8,2014-09-05 12:44:43,Done,False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/tests.py,12299,17,fa98f980_3d67a6b8,Line,123,,2014-09-04 11:14:20,Formating could be a bit better (see line 132),False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/tests.py,12814,17,fa98f980_5cfd29b0,Line,25,fa98f980_dd4cda44,2014-09-05 12:44:43,Done,False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/tests.py,12299,17,fa98f980_dd4cda44,Line,25,,2014-09-04 11:14:20,Please move this to constants,False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/tables.py,12814,17,fa98f980_bcf29503,Line,38,fa98f980_985500fc,2014-09-05 12:44:43,Done,False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/tables.py,12299,17,fa98f980_985500fc,Line,38,,2014-09-04 11:15:18,ditto (formating),False,15
110817,requirements.txt,1091,7,1abeadc6_cfb8d3ca,Line,11,1abeadc6_f5f00600,2014-08-20 22:42:22,"Yes. When I started, it was compliant. 

Will change in next patch.",False,15
110817,requirements.txt,7262,7,1abeadc6_f5f00600,Line,11,,2014-08-20 19:35:19,Global Requirements specifies: oslo.messaging>=1.4.0.0a3,False,15
110817,requirements.txt,9234,1,baada198_672fc33e,Line,11,,2014-08-03 00:18:18,So we can use v1.3.0a2?  I notice that there isn't a 1.3.0a4 listed in http://docs.openstack.org/developer/oslo.messaging/,False,15
110817,etc/barbican/barbican-api.conf,1091,17,fa98f980_ec8dd9d4,Line,160,fa98f980_e0124308,2014-09-09 19:54:31,Correct. I think I was in sphinx documentation mode (highlight text) when I was writing this. Will correct if I have to push next version.,False,15
110817,etc/barbican/barbican-api.conf,994,17,fa98f980_e0124308,Line,160,,2014-09-09 15:25:51,nit - I think you need to use single quotes ' vs `,False,15
112880,openstack_dashboard/dashboards/admin/volumes/snapshots/tests.py,12814,17,fa98f980_fc741d69,Line,141,fa98f980_1d53c2e2,2014-09-05 12:44:43,Done,False,15
112880,openstack_dashboard/dashboards/admin/volumes/tests.py,12814,17,fa98f980_bcb37508,Line,165,fa98f980_9d6b32f0,2014-09-05 12:44:43,Done,False,15
110817,barbican/tasks/keystone_consumer.py,1091,18,da9df570_286d1699,Line,62,da9df570_ac65ba46,2014-09-23 16:29:49,"To me, its okay either way as both have different merits. With args and kwargs in methods, its sub-class has the flexibility to have different arguments from its parent.
The specific argument approach provides more tighter and clear coupling.

I am inclining to leave this as-is as this is falling into grey area of specific (personal) style of python programming.
Also want to avoid another patch just for this as then this change will go into another review wait cycle and can miss Juno merge target.",False,15
110817,barbican/tasks/keystone_consumer.py,7789,18,da9df570_ac65ba46,Line,62,,2014-09-22 20:00:50,I actually preferred the original form to this one. The other BaseTask sub classes also specify explicit args. To me it's more robust to hard define the args than to rely on the kwargs unpacking to do this.,False,15
110817,barbican/queue/ks_listener.py,9234,3,baada198_3fe44fdf,Line,90,,2014-08-07 14:23:15,are the resource_type and operation_type guaranteed to always be lower case?,False,15
110817,barbican/queue/ks_listener.py,1091,3,baada198_b06eccfc,Line,83,baada198_df96f348,2014-08-07 15:44:44,Will change this in next patch.,False,15
110817,barbican/queue/ks_listener.py,9234,3,baada198_df96f348,Line,83,,2014-08-07 14:23:15,can we call this project_id rather than keystone_id?  Makes it clearer what kind of ID it is.,False,15
110817,barbican/queue/ks_listener.py,1091,3,baada198_706d1403,Line,74,baada198_3fad2f85,2014-08-07 15:44:44,Okay. Will make it specific.,False,15
110817,barbican/queue/ks_listener.py,9234,3,baada198_3fad2f85,Line,74,,2014-08-07 14:23:15,"instead of ""the requeue"" should say ""messaging.NotificationResult.REQUEUE""",False,15
110817,barbican/queue/ks_listener.py,1091,3,baada198_30639c1a,Line,63,baada198_ffcf3789,2014-08-07 15:44:44,Will correct in next patch.,False,15
110817,barbican/queue/ks_listener.py,9234,3,baada198_ffcf3789,Line,63,,2014-08-07 14:23:15,nit - period not question mark.,False,15
110817,barbican/queue/ks_listener.py,1091,3,baada198_f0a1243b,Line,39,baada198_dffa73b9,2014-08-07 15:44:44,Will correct in next patch.,False,15
110817,barbican/queue/ks_listener.py,9234,3,baada198_dffa73b9,Line,39,,2014-08-07 14:23:15,nit - notifications (plural),False,15
110817,barbican/queue/ks_listener.py,9234,2,baada198_529de6b9,Line,111,,2014-08-05 00:45:13,might want to reword this - confusing.,False,15
110817,barbican/queue/ks_listener.py,9234,1,baada198_673a6399,Line,127,,2014-08-03 00:18:18,was this for debug?,False,15
110817,barbican/queue/keystone_listener.py,7789,13,1abeadc6_e4191f7b,Line,113,1abeadc6_2a7f7567,2014-08-28 16:37:46,Agreed.,False,15
110817,barbican/queue/keystone_listener.py,10873,13,1abeadc6_2a7f7567,Line,113,,2014-08-28 07:46:18,I usually don't like comments on the code (only documenting the functions) but I'm fine with this :),False,15
110817,barbican/queue/keystone_listener.py,7789,13,1abeadc6_840b0b23,Line,97,1abeadc6_8ab6c93c,2014-08-28 16:37:46,That's cool. Jvrbanac might disagree though?,False,15
110817,barbican/queue/keystone_listener.py,10873,13,1abeadc6_8ab6c93c,Line,97,,2014-08-28 07:46:18,"I actually prefer this style better. The function is not long, so it's not an issue to have the multiple return statements.

I do agree with John that this wouldn't work if the function was longer, but I think functions shouldn't be long to start with, and when they are, they should be refactored :D .",False,15
110817,barbican/queue/keystone_listener.py,7789,11,1abeadc6_2cc5e28d,Line,113,1abeadc6_c9b018e0,2014-08-27 21:29:31,"That would work for me, Arun.",False,15
110817,barbican/queue/keystone_listener.py,1091,11,1abeadc6_c9b018e0,Line,113,1abeadc6_7a2b48eb,2014-08-26 18:05:52,"Check is to make sure that event type data is in expected format. 2 is the min. number of dot delimiters in event_type string.

I was thinking that samples provided in doctstring will help in understanding this aspect.

Its internal logic so constant would not be used anywhere else. Are you okay if I add following comment before this line.
# 2 is number of dot delimiters expected in event_type value.",False,15
110817,barbican/queue/keystone_listener.py,10873,11,1abeadc6_7a2b48eb,Line,113,,2014-08-26 16:10:06,what does this number two represent? I would rather have this as a constant so the intent is expressed explicitly.,False,15
110817,barbican/queue/keystone_listener.py,1091,11,1abeadc6_4e208ef7,Line,110,1abeadc6_daae1c98,2014-08-26 18:05:52,Okay. Will add it in separate line.,False,15
110817,barbican/queue/keystone_listener.py,10873,11,1abeadc6_daae1c98,Line,110,,2014-08-26 16:10:06,"nit: Even though this is legal in python, I would prefer to have this expanded to avoid any confusion.",False,15
110817,barbican/queue/keystone_listener.py,7789,11,1abeadc6_0cf666f9,Line,98,1abeadc6_692f0489,2014-08-27 21:29:31,"Well, returns from the middle of longer methods can be a little confusing as well. I'd prefer the return-local approach for this method. Thoughts though?",False,15
110817,barbican/queue/keystone_listener.py,1091,11,1abeadc6_692f0489,Line,98,1abeadc6_1ac97479,2014-08-26 18:05:52,"Out of habit, following single return approach. Also was trying to differentiate between ""processed event"" vs ""different event type"" case.

If its confusing, I can certainly change that.",False,15
110817,barbican/queue/keystone_listener.py,1091,11,1abeadc6_42702772,Line,98,1abeadc6_0cf666f9,2014-08-27 22:09:34,"Well, I changed the method in next patch as per Juan suggestion. I can easily revert it if preference is the way its implemented in this patch.",False,15
110817,barbican/queue/keystone_listener.py,10873,11,1abeadc6_1ac97479,Line,98,,2014-08-26 16:10:06,"I would get rid of the `result` variably, and just return the NotificationResult in place.",False,15
110817,barbican/queue/keystone_listener.py,1091,11,1abeadc6_ee387a3f,Line,66,1abeadc6_badde044,2014-08-26 18:05:52,Okay. Will add this in next patch.,False,15
110817,barbican/queue/keystone_listener.py,10873,11,1abeadc6_badde044,Line,66,,2014-08-26 16:10:06,- the value,False,15
110817,barbican/queue/keystone_listener.py,1091,11,1abeadc6_ce357e47,Line,63,1abeadc6_7ad34838,2014-08-26 18:05:52,Okay. Will add this in next patch.,False,15
110817,barbican/queue/keystone_listener.py,10873,11,1abeadc6_7ad34838,Line,63,,2014-08-26 16:10:06,- the returned value,False,15
110817,barbican/queue/keystone_listener.py,1091,11,1abeadc6_6eed4ab7,Line,54,1abeadc6_7a2c284b,2014-08-26 18:05:52,Okay. Will add this in next patch.,False,15
110817,barbican/queue/ks_listener.py,1091,3,baada198_1015b84b,Line,90,baada198_3fe44fdf,2014-08-07 15:44:44,"Yes, it is lowercase in keystone.
http://docs.openstack.org/developer/keystone/event_notifications.html",False,15
110817,barbican/queue/ks_listener.py,9234,3,baada198_dfd273fc,Line,112,,2014-08-07 14:23:15,"nit - ""A few event type sample values...""",False,15
110817,barbican/queue/ks_listener.py,1091,3,baada198_70127462,Line,112,baada198_dfd273fc,2014-08-07 15:44:44,Okay..will reword this.,False,15
110817,barbican/queue/ks_listener.py,9234,3,baada198_9f363b4e,Line,140,,2014-08-07 14:23:15,"""to send""",False,15
110817,barbican/tasks/keystone_consumer.py,1091,17,fa98f980_221525e5,Line,96,fa98f980_e7009204,2014-09-09 23:17:58,"Yes, this needs to be corrected.",False,15
110817,barbican/tasks/keystone_consumer.py,994,17,fa98f980_e7009204,Line,96,,2014-09-09 21:01:14,"nit, ketstone > keystone",False,15
110817,barbican/tasks/keystone_consumer.py,1091,17,fa98f980_e21a3d17,Line,70,fa98f980_7238e23d,2014-09-09 23:17:58,"I am just using unpacked kw arguments as base class method allows *args and **kwargs instead of explicitly doing this within function logic as it reduces the number of lines.

I did not find any negative impact of this approach other than its not pythonic way so will change it to as you suggested.",False,15
110817,barbican/tasks/keystone_consumer.py,994,17,fa98f980_7238e23d,Line,70,,2014-09-09 21:01:14,"Seems we are changing the signature of the method, please make sure if it is correct practice in python.",False,15
110817,barbican/tasks/keystone_consumer.py,1091,17,fa98f980_8226d166,Line,63,fa98f980_121236b4,2014-09-09 23:17:58,"I am just using unpacked kw arguments as base class method allows *args and **kwargs instead of explicitly doing this within function logic as it reduces the number of lines.

I did not find any negative impact of this approach other than its not pythonic way so will change it to as you suggested.",False,15
110817,barbican/tasks/keystone_consumer.py,994,17,fa98f980_121236b4,Line,63,,2014-09-09 21:01:14,"Seems we are changing the signature of the method, please make sure if it is correct practice in python.",False,15
110817,barbican/tasks/keystone_consumer.py,1091,13,fa98f980_e8368551,Line,104,fa98f980_a6c33e89,2014-09-02 21:15:50,Here log is referring to Keystone project id and not tenant_id as there is no related barbican resources present in the system.,False,15
110817,barbican/tasks/keystone_consumer.py,9234,13,fa98f980_a6c33e89,Line,104,,2014-08-31 03:36:03,should be tenant_id,False,15
110817,barbican/tasks/keystone_consumer.py,1091,13,fa98f980_a8de3d0f,Line,97,fa98f980_46d53242,2014-09-02 21:15:50,"I tried to explain this in comments above. Looks like need to explain it better.
Tenant table has 'id' and 'keystone_id' field. From event data, the resource id maps to keystone_id. But all tables associations are referred via 'id' field. So delete operation uses 'id' directly, instead of using 'keystone_id' which requires another join with tenant table to query records.

This is mentioned above and also in docstring of delete APIs.",False,15
110817,barbican/tasks/keystone_consumer.py,9234,13,fa98f980_46d53242,Line,97,,2014-08-31 03:36:03,"isn't this the same as the project_id parameter?  If we need that parameter then maybe change this to something like:

tenant_id  = project_id or project.id",False,15
110817,barbican/tasks/keystone_consumer.py,1091,13,fa98f980_1a407355,Line,83,fa98f980_c6c0427f,2014-09-02 21:15:50,"'project' entity will be present only when there are barbican resources available. Not every keystone project will necessarily have barbican resources.
So in cases, where there is no corresponding barbican resource for a given keystone project_id, 'project' entity will be None and will still have project_id. Please note that project_id is identified from project delete notification event. That's why we need both arguments and similar flow is used in Line# 91 to log message.
Does it make sense?",False,15
110817,barbican/tasks/keystone_consumer.py,9234,13,fa98f980_c6c0427f,Line,83,,2014-08-31 03:36:03,why do we have project_id parameter if the project entity is REQUIRED and it contains the id?,False,15
110817,barbican/tasks/keystone_consumer.py,1091,13,fa98f980_28408da4,Line,44,fa98f980_a6dc1e76,2014-09-02 21:15:50,Okay. Will re-order them.,False,15
110817,barbican/tasks/keystone_consumer.py,9234,13,fa98f980_a6dc1e76,Line,44,,2014-08-31 03:36:03,"I asked this in one of chellygel's reviews, so I'll ask it here.  Can we match the order of the repos in the c'tor signature to the order here?  Makes it easier to review and ensure we don't miss any.",False,15
110817,barbican/tasks/keystone_consumer.py,7789,18,da9df570_87ab311c,Line,62,da9df570_286d1699,2014-09-24 16:24:56,"Actually the sub-class is intended to enforce the actual args/kwargs needed. The super class has the generic args/kwargs. So unless the intent is for some other class to extend this one (which is a bad idea IMHO), it is better to be rigorous here I'm thinking. I'm reaching out to others to make a comment here though.",False,15
110817,barbican/tasks/keystone_consumer.py,1091,13,fa98f980_48695124,Line,30,fa98f980_66f3160b,2014-09-02 21:15:50,Will change it in next patch.,False,15
110817,barbican/tasks/keystone_consumer.py,1091,11,1abeadc6_c90c9897,Line,29,1abeadc6_fa8838c8,2014-08-26 18:05:52,"Its already part of keystone_consumer module so its namespace is quite explicit. As big names in python creates line wrapping issue so was trying to offset it little bit.

I think this is second comment about this. So will change it in next patch.",False,15
110817,barbican/tasks/keystone_consumer.py,10873,11,1abeadc6_fa8838c8,Line,29,,2014-08-26 16:10:06,I rather have this as a longer name: KeystoneEventConsumer.,False,15
110817,barbican/tasks/keystone_consumer.py,1091,10,1abeadc6_87c63f15,Line,102,1abeadc6_b86f0cfb,2014-08-25 16:03:33,Okay. As this logic spans across multiple repos so I am not sure under which specific repo I should enter. I will try to move the code to models/repositories module.,False,15
110817,barbican/tasks/keystone_consumer.py,7789,10,1abeadc6_b86f0cfb,Line,102,,2014-08-22 22:16:36,"I'd be more comfortable with this block of code being placed into the models/repositories.py module, just to segregate the SQLAlchemy session sort of logic from task/business-logic modules.",False,15
110817,barbican/queue/ks_listener.py,1091,7,1abeadc6_afb9d716,Line,168,1abeadc6_51af0f2a,2014-08-20 22:42:22,"Earlier I used to have function invoked but then commented it and removed in earlier patch. Left it here just to highlight functions availablilty.

Will remove it in next patch.",False,15
110817,barbican/queue/ks_listener.py,7262,7,1abeadc6_51af0f2a,Line,168,,2014-08-20 19:35:19,If you're not overriding anything within wait() then you don't need to define it.,False,15
110817,barbican/queue/ks_listener.py,1091,7,1abeadc6_2f7227ad,Line,135,1abeadc6_318b73c4,2014-08-20 22:42:22,I was trying to be explicit about return value. Will remove it in next patch.,False,15
110817,barbican/queue/ks_listener.py,7262,7,1abeadc6_318b73c4,Line,135,,2014-08-20 19:35:19,The else isn't required,False,15
110817,barbican/queue/ks_listener.py,1091,7,1abeadc6_0f564b06,Line,52,1abeadc6_9149a7b9,2014-08-20 22:42:22,"So far, its a common logic and there is no priority significance in processing logic. As mentioned in comments, keystone so far uses only #info(...) handler in notification dispatcher.",False,15
110817,barbican/queue/ks_listener.py,7262,7,1abeadc6_9149a7b9,Line,52,,2014-08-20 19:35:19,"Shouldn't we log the level of this event? It seems there is no difference between info, warn, and error.",False,15
110817,barbican/queue/ks_listener.py,9234,6,7ac7a964_ef0313b6,Line,140,,2014-08-15 14:34:48,"nit - ""to send"" rather than ""to sent""",False,15
110817,barbican/queue/ks_listener.py,1091,3,baada198_eb42193a,Line,169,baada198_7f696725,2014-08-07 15:44:44,Yes..will remove commented line.,False,15
110817,barbican/queue/ks_listener.py,9234,3,baada198_7f696725,Line,169,,2014-08-07 14:23:15,dead code?,False,15
110817,barbican/queue/ks_listener.py,1091,3,baada198_eb2bf979,Line,140,baada198_9f363b4e,2014-08-07 15:44:44,"Actually here logic is at consumer end so its reading messages (notification) from queue. ""to send"" is more appropriate for producer end.",False,15
110817,barbican/tasks/keystone_consumer.py,9234,13,fa98f980_66f3160b,Line,30,,2014-08-31 03:36:03,"nit - change to ""event"" to match class name (which is singular)",False,15
112880,openstack_dashboard/dashboards/admin/volumes/tests.py,12299,17,fa98f980_dd785ac6,Line,195,,2014-09-04 11:14:20,ditto (constants),False,15
112880,openstack_dashboard/dashboards/admin/volumes/tests.py,12814,17,fa98f980_fc225d50,Line,195,fa98f980_dd785ac6,2014-09-05 12:44:43,Done,False,15
112880,openstack_dashboard/dashboards/admin/volumes/tests.py,12299,17,fa98f980_1d7f42ac,Line,203,,2014-09-04 11:14:20,ditto (constants),False,15
85225,trove/guestagent/strategies/upgrade/virtualenv.py,6162,76,baada198_38030c43,Line,21,baada198_fde506a4,2014-07-21 20:52:25,I'll speak to you about this.,False,15
85225,trove/guestagent/strategies/upgrade/virtualenv.py,8415,76,baada198_fde506a4,Line,21,,2014-07-21 20:33:47,"it's not, fix imports, please",False,15
59578,nova/network/neutronv2/api.py,6873,25,baada198_b56a5ab3,Line,752,,2014-08-06 20:41:43,"ditto, can't we default to True for port_security_enabled?",False,15
59578,nova/network/neutronv2/api.py,6873,25,baada198_35300ae9,Line,707,,2014-08-06 20:41:43,"Couldn't you avoid the odd nested logic here by just defaulting to port.get('port_security_enabled', True)? Or are there cases where it's None rather than False?  You default to True on line 424 for the network.",False,15
59578,nova/network/neutronv2/api.py,6873,25,baada198_f50e9232,Line,706,,2014-08-06 20:41:43,nit: None is redundant here.,False,15
85225,trove/guestagent/strategies/upgrade/virtualenv.py,6162,75,baada198_02aed980,Line,80,baada198_9303360f,2014-07-21 20:11:50,"Yeah I was thinking about that too but since upstart is a Ubuntu specific this we are already locked into the impl here.

I think we could follow up with something that would allow for Fedora or Centos as well.

Need to talk things over with folks first.",False,15
59578,nova/network/neutronv2/api.py,6873,25,baada198_9a94a5e8,Line,341,,2014-08-06 20:41:43,"Unrelated whitespace change, could be not fun if we try to backport this to stable/icehouse, but then again given how frequently we have large changes in this code, a backport to stable/icehouse is probably going to be terrible either way.",False,15
59578,nova/network/neutronv2/api.py,6873,25,baada198_5adccde1,Line,324,,2014-08-06 20:41:43,"nit: maybe for a later refactor, but if both name_match and uuid_match are set, break the loop?",False,15
59578,nova/network/neutronv2/api.py,4395,23,baada198_eda9a3df,Line,353,1ae5cdf2_8dbe44ad,2014-08-05 16:43:49,right that is done on the nova-api server see comment above.,False,15
59578,nova/network/neutronv2/api.py,4395,23,baada198_0d6097cf,Line,339,1ae5cdf2_4d719cdd,2014-08-05 16:43:49,"We do, do the check already in validate_networks line 688 in this patch. The only reason we do this check here is incase the attributes on the port in neutron change by the time it gets to the compute node (it doesn't cost us anything extra to do the check here since we already query for the necessary stuff).",False,15
59578,nova/network/neutronv2/api.py,4395,23,baada198_4d2c4f94,Line,327,baada198_8dcffc28,2014-08-05 16:43:49,Done,False,15
59578,nova/network/neutronv2/api.py,6873,23,baada198_8dcffc28,Line,327,,2014-07-23 17:46:33,"Can we pull this hunk of code from here to ~line 355 to a private method and return the boolean, then we can test this easier and it'd be easier to maintain, I hate all of the big blocks of logic in this single monolithic method.",False,15
59578,nova/network/neutronv2/api.py,4395,23,baada198_ad1b2b6e,Line,321,baada198_f04c689f,2014-08-05 16:43:49,"How? This just gathers all the security group info on a port to a list of {'id': id, 'name': name} pairs. We don't need need index directly into it as all the groups are mapped to a port so i don't think making just the id as a key here buys us anything.",False,15
59578,nova/network/neutronv2/api.py,5754,23,baada198_f04c689f,Line,321,1ae5cdf2_3c3a72c4,2014-08-03 09:18:03,"Aaron, you are right, that is I miss something, sorry for that.

If security_group_info is a dict that use id as key and name as value, that looks like also can save some loop.",False,15
59578,nova/network/neutronv2/api.py,4395,23,1ae5cdf2_3c3a72c4,Line,321,1ae5cdf2_0d01546a,2014-08-03 03:16:38,"Hi Alex, 

I don't think that will work because we need to ensure we match up the right security groups in the case that one names a security group as the uuid of another security group. See the comment on line 309. Am I missing something?",False,15
85225,trove/guestagent/strategies/upgrade/virtualenv.py,8415,75,baada198_9303360f,Line,80,,2014-07-21 10:47:20,"same, user and group must be configurable.",False,15
85225,trove/guestagent/strategies/upgrade/virtualenv.py,8415,75,baada198_363c18e1,Line,50,,2014-07-21 10:47:20,please use httplib2 that's mentioned in requirements.txt to prevent missing package with custom python installations.,False,15
85225,trove/guestagent/strategies/upgrade/virtualenv.py,6162,75,baada198_22e83db2,Line,21,baada198_b64668a5,2014-07-21 20:11:50,atm this is necessary I think.,False,15
85225,trove/guestagent/strategies/upgrade/virtualenv.py,8415,75,baada198_b64668a5,Line,21,,2014-07-21 10:47:20,"please reduce imports:

from trove.guestagent.strategies.upgrade import pip",False,15
85225,trove/guestagent/strategies/upgrade/virtualenv.py,8415,74,baada198_d9e32b03,Line,78,,2014-07-19 11:03:02,please remove commented lines,False,15
85225,trove/guestagent/strategies/upgrade/virtualenv.py,8415,74,baada198_99de133d,Line,76,,2014-07-19 11:03:02,"same, you should not do this, use version polling mechanism instead",False,15
85225,trove/guestagent/strategies/upgrade/virtualenv.py,8415,74,baada198_79d93f55,Line,72,,2014-07-19 11:03:02,"os.path.join(UPGRADE_FILEPATH, str(filename))",False,15
85225,trove/guestagent/strategies/upgrade/virtualenv.py,8415,74,baada198_59d8fb52,Line,45,,2014-07-19 11:03:02,should not be wrapped,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,6162,76,baada198_3855cc4f,Line,49,baada198_7de2d6a0,2014-07-21 20:52:25,This was already discussed with previous reviewers.,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,76,baada198_7de2d6a0,Line,49,,2014-07-21 20:33:47,None of comments from previous patches hadn't been addressed.,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,6162,76,baada198_9846d8a5,Line,20,baada198_7d4bb6b0,2014-07-21 20:52:25,I'll come back to this one. thx!,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,76,baada198_7d4bb6b0,Line,20,,2014-07-21 20:33:47,from trove.common import utils,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,75,baada198_33a0aa41,Line,148,,2014-07-21 10:47:20,"i'm totally not happy about pinning to a specific hardcoded user.

User and group _must_ be configurable. Please fix it.",False,15
120866,glance_store/_drivers/swift/buffered.py,11642,3,fa98f980_c4665329,Line,64,fa98f980_cb8026fa,2014-09-17 16:24:35,"When is it possible for self.total to be less than len(self.buf)?

end = min(self.offset + request_sz, self.total)
end = min(self.offset + available, self.total)
end = min(self.offset + (len(self.buf) - self.offset), self.total)
end = min(len(self.buf), self.total)

Wouldn't the first argument always be selected by the min function?",False,15
85225,trove/guestagent/strategies/upgrade/virtualenv.py,8415,76,baada198_7df9f64c,Line,50,,2014-07-21 20:33:47,"not addressed, sine patchset #75",False,15
85225,trove/guestagent/strategies/upgrade/virtualenv.py,6162,76,baada198_58fe0039,Line,50,baada198_7df9f64c,2014-07-21 20:52:25,I'll speak to you about this.,False,15
85225,trove/guestagent/strategies/upgrade/virtualenv.py,8415,76,baada198_dd992220,Line,80,,2014-07-21 20:33:47,"user and group should be configurable initialy, not later",False,15
85225,trove/guestagent/strategies/upgrade/virtualenv.py,6162,76,baada198_78f9044d,Line,80,baada198_dd992220,2014-07-21 20:52:25,I'll speak to you about this.,False,15
120866,glance_store/_drivers/swift/store.py,2835,3,fa98f980_7ce646b2,Line,103,fa98f980_3285d059,2014-09-16 15:13:29,We could.  The in-memory buffering may be undesirable for some deployments that want to maintain a tighter memory footprint.,False,15
120866,glance_store/_drivers/swift/store.py,6159,3,fa98f980_3285d059,Line,103,,2014-09-16 09:42:16,Why do we need to make the reader class configurable? Can't we just have one and use that?,False,15
120866,glance_store/_drivers/swift/store.py,2835,3,fa98f980_cf3bf2c6,Line,36,fa98f980_d28d647e,2014-09-16 15:13:29,I assume you mean use oslo.utils?  I will update it.,False,15
120866,glance_store/_drivers/swift/store.py,6159,3,fa98f980_a28eaace,Line,36,fa98f980_cf3bf2c6,2014-09-17 11:01:38,"It's actually on its way to deprecation, it's recommended to use stevedore instead. We've re-exported all the importutils methods in oslo.utils but they'll go away in the future.

Either way, it'd be cool if you could use oslo.utils instead. :D",False,15
120866,glance_store/_drivers/swift/store.py,6159,3,fa98f980_d28d647e,Line,36,,2014-09-16 09:42:16,"importutils is deprecated in oslo-inc, please don't use it",False,15
120866,glance_store/_drivers/swift/store.py,2537,2,fa98f980_1cf044fd,Line,505,,2014-09-11 20:14:58,"So, it looks good this line being removed from PS2.",False,15
120866,glance_store/_drivers/swift/store.py,2537,1,fa98f980_4633d961,Line,515,,2014-09-11 20:12:28,don't you need to delete this line?,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8214,66,baada198_c7b86177,Line,28,,2014-07-07 21:04:31,"this probably needs an os-check, see https://github.com/openstack/trove-integration/search?q=%22trove-guest%22&ref=cmdform",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,6162,66,baada198_05d063f6,Line,28,baada198_c7b86177,2014-07-09 01:01:58,Done,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8214,66,baada198_072339bd,Line,42,,2014-07-07 21:04:31,"why --no-deps? ex: when configuration-groups was added, jinja2 became a dependency for the newest guestagent. if --no-deps is on, and we attempted to install the latest guestagent in that situation, it would have never succeeded.",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,6162,66,baada198_253d67bc,Line,42,baada198_072339bd,2014-07-09 01:01:58,Done,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,694,66,baada198_d622d550,Line,133,,2014-07-07 20:04:28,"I won't hold up the pull request but you can use ""self"" here in place of Pip.",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,6162,66,baada198_852ab3e5,Line,133,baada198_d622d550,2014-07-09 01:01:58,"k, I like that.  Done.",False,15
85225,trove/guestagent/upgrade/__init__.py,6162,75,baada198_02fc1971,Line,17,baada198_961a446d,2014-07-21 20:11:50,Done,False,15
120866,glance_store/_drivers/swift/buffered.py,2835,3,fa98f980_cb8026fa,Line,64,fa98f980_a0a318ff,2014-09-17 14:47:29,"Jesse - The previous min limits to the amount of data in the buffer, not just the end of the chunk size.  Also, it is possible that the last chunk in the input file is actually smaller than self.total, in which case you don't want to have end be after the end of the file.",False,15
85225,trove/guestagent/upgrade/__init__.py,8415,75,baada198_961a446d,Line,17,,2014-07-21 10:47:20,if file doesn't contain any logic it should be empty,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8214,66,baada198_c2220fa2,Line,134,,2014-07-07 21:04:31,can you explain the purpose of this sleep?,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,6162,66,baada198_25f48786,Line,134,baada198_c2220fa2,2014-07-09 01:01:58,"Yeah, during my testing it became clear that we need to give a little time for the new package to install (extract, etc)",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8214,66,baada198_822c979a,Line,139,,2014-07-07 21:04:31,this should just inherit/use the user/group that was set on the original upstart file.,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,6162,66,baada198_a0788590,Line,139,baada198_822c979a,2014-07-09 01:01:58,"This is sorta nasty because I had to use root to create the file first and then come back and write to it.  It's due to the fact ubuntu can't write to /etc/init.

I'll see if I can figure out a better way as I'm re-testing all of these changes.",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8214,71,baada198_561a457d,Line,17,,2014-07-15 07:39:03,"top-posting, because these are general questions about the approach/implementation:

- i'm a bit confused, because i see no code that actually interacts with swift. why is that? (see swift-related code @ https://review.openstack.org/#/c/85225/71/etc/trove/trove-guestagent.conf.sample)

- ignoring the swift thing for a moment: the ""-f"" flag for pip assumes a true pip repository, meaning if you ""python setup.py sdist"" trove and throw it on a random apache server, ""-f http://host/trove-2014.tar.gz"" will not install. you need to actually curl/wget it it locally, then -f it.

- the ""--no-deps"" flag is problematic, because if the latest tarball added a new entry in requirements.txt (or increased the version of a dependency not for niceties sake, but because it was an absolutely necessity), --no-deps will prevent it from being installed, meaning your guest will blow up.

- since you're always using ""pip install trove"", the result will always be in lib/site-packages/trove; so i'm really confused on what all the conf/new_conf logic is attempting to do?

- what's our approach on distro packages that have been added in trove-integration disk image elements, but won't be present on existing guests? ex: pretend for a second we didn't have a pip dependency on MySQL-python. MySQL-python has a dependency on distro package libmysqlclient-dev. how will existing guests know to ""sudo apt-get install libmysqlclient-dev"" before attempting to pip install the tarball (otherwise they'll get EnvironmentError: mysql_config not found).

- what's the plan on adding tooling/scripts to build these tarballs in redstack/devstack? or is the plan to merely add it to the documentation?

irrespective of the answers above, you can reply with how you're building the guest tarball? i think there might be some confusion here that's causing the issues above.",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,6162,71,baada198_957033de,Line,17,baada198_561a457d,2014-07-15 20:53:24,"All good questions.  I sent you and Tim and Email to try to explain these.
I'll try to reach out to you on chat to see if I can do a better job on some of these points.",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,71,baada198_b3854f09,Line,17,baada198_957033de,2014-07-15 21:05:58,whould be nice to see anwsers in public,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,71,baada198_40e014fa,Line,110,,2014-07-11 15:29:16,you can use utils.utcnow(),False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8214,71,baada198_b3f493f1,Line,110,baada198_40e014fa,2014-07-15 06:46:58,+1.,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,6162,71,baada198_d571cbdf,Line,110,baada198_40e014fa,2014-07-15 20:53:24,"thx, will do.",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,6162,71,baada198_f57ecfae,Line,110,baada198_b3f493f1,2014-07-15 20:53:24,Done,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,71,baada198_40b734f5,Line,121,,2014-07-11 15:29:16,if 'trove-guest' and '.conf' parts are static why they are placed at rendering step?,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,6162,71,baada198_7542bf69,Line,121,baada198_40b734f5,2014-07-15 20:53:24,yeah that would be fine.  I can change it.,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,1925,72,baada198_8a8bad1d,Line,40,,2014-07-15 23:24:44,Looks like a lot of the comments you addressed from patch 66 are gone? (i.e. remove --no-deps),False,15
85225,trove/guestagent/upgrade/__init__.py,8415,74,baada198_f9ec6ff6,Line,20,,2014-07-19 11:03:02,"Yeah, seems line we don't need it at all, because it doesn't add anything useful. But i'd let it for cores to decide.",False,15
120866,glance_store/_drivers/swift/buffered.py,11642,3,fa98f980_a0a318ff,Line,64,fa98f980_5cca621b,2014-09-16 18:20:12,"I think the previous min() ensures that self.offset + request_sz won't extend into the next segment on the input stream. I was thinking that this min is extraneous. Either way, leaving it won't hurt.",False,15
120866,glance_store/_drivers/swift/buffered.py,2835,3,fa98f980_5cca621b,Line,64,fa98f980_534c2f9e,2014-09-16 15:13:29,"Yes, that is the idea.  You don't want to read into the next segment on the input stream.",False,15
120866,glance_store/_drivers/swift/buffered.py,11642,3,fa98f980_534c2f9e,Line,64,,2014-09-15 16:45:20,Will always select self.offset + request_sz because of previous min ensures you won't reach beyond buffer?,False,15
117576,ironic/sync/zookeeper.py,9856,5,fa98f980_3db88374,Line,52,fa98f980_7dcbeb71,2014-09-12 22:28:21,"Would you suggest that the code create a new Kazoo instance for each lock that needs to be acquired? That seems like quite a bit of unneeded overhead in my opinion.

I understand that global state and singletons aren't great practice, but I have noticed this pattern being used, and accepted, in other parts of the Ironic codebase.",False,15
117576,ironic/sync/zookeeper.py,1297,5,fa98f980_749860c0,Line,52,fa98f980_3db88374,2014-09-13 00:09:37,"Hmmm, I'm unsure about the rest of the ironic codebase, wouldn't just creating a client in ZooKeeperSyncManager work, or is that per lock? If it is per lock, then I guess this is ok, although seems like a pool object would be better (and the pool object is passed to all ZooKeeperSyncManager objects when they are made).",False,15
117576,ironic/sync/zookeeper.py,1297,5,fa98f980_7dcbeb71,Line,52,,2014-09-12 19:46:27,"This seems sorta ummm, bad.

Global state usually isn't good :-/",False,15
115148,ironic/tests/sync/__init__.py,9856,7,1abeadc6_9ba99892,Line,1,1abeadc6_a17839f3,2014-08-21 19:41:03,Good catch!,False,15
115148,ironic/tests/sync/__init__.py,10380,7,1abeadc6_a17839f3,Line,1,,2014-08-20 00:02:42,Pretty sure this can be blank,False,15
115148,ironic/sync/dbapi.py,10380,9,1abeadc6_cb4dfd9b,Line,46,,2014-08-21 22:39:51,"To echo Alex's comment, you should put doc strings on these functions.",False,15
115148,ironic/sync/dbapi.py,10380,9,1abeadc6_2b7031db,Line,44,,2014-08-21 22:39:51,This seems like it would become driver dependent and individual drivers would want different defaults. I'd rather see these CONF options in this module (make sure to set deprecated_group=conductor on the options if you move them),False,15
115148,ironic/sync/base.py,11739,9,1abeadc6_275067d3,Line,43,,2014-08-21 21:37:26,Should document return value (if any).,False,15
115148,ironic/sync/base.py,11739,9,1abeadc6_e7702f74,Line,34,,2014-08-21 21:37:26,Should document return value (if any).,False,15
115148,ironic/sync/base.py,9856,8,1abeadc6_db5f903f,Line,43,,2014-08-21 21:22:30,Update docstring to include params,False,15
115148,ironic/sync/base.py,9856,8,1abeadc6_bb473476,Line,33,,2014-08-21 21:22:30,Update docstring to include params,False,15
115148,ironic/conductor/task_manager.py,10380,9,1abeadc6_eea1e7f8,Line,174,,2014-08-21 22:39:51,Could you add shared or exclusive to this log message? Might be confusing (I realize you're just copying this from the old code),False,15
115148,ironic/conductor/task_manager.py,9856,7,1abeadc6_1b9d8866,Line,231,1abeadc6_41404556,2014-08-21 19:41:03,Done,False,15
115148,ironic/conductor/task_manager.py,10380,7,1abeadc6_41404556,Line,231,,2014-08-20 00:02:42,"Here as well, you can pass shared into release, and still wrap it in a try/except to squash/retry. DBAPI would no-op, other systems may want to use it.",False,15
117576,ironic/sync/zookeeper.py,1297,5,fa98f980_fd30bb57,Line,75,,2014-09-12 19:55:58,Just use self.zk.Lock to be consistent here instead of using the recipe class in one place and the client attribute in another...,False,15
115148,ironic/conductor/task_manager.py,9856,7,1abeadc6_db96b04b,Line,184,1abeadc6_2146e97c,2014-08-21 19:41:03,Done,False,15
115148,ironic/common/sync_factory.py,9856,12,fa98f980_1e206048,Line,69,fa98f980_ce070980,2014-09-10 20:08:48,"https://docs.python.org/2/reference/datamodel.html#object.__getattr__

>Note that if the attribute is found through the normal mechanism, __getattr__() is not called.

Since _load_backend is an attribute on this class, it won't trigger __getattr__.",False,15
115148,ironic/common/sync_factory.py,10343,12,fa98f980_ce070980,Line,69,,2014-09-10 18:56:34,"I might be wrong, but won't this proxy to self._backend, due to __getattr__ being overridden? And the same thing would happen in __getattr__? And so on and so forth until the stack is blown?",False,15
115148,ironic/common/sync_factory.py,11739,9,1abeadc6_c7ded36c,Line,87,,2014-08-21 21:37:26,"This proxy class seems unnecessarily complicated.  You already have a global _sync_manager (see get_manager()), couldn't that simply contain an instance of a BaseSyncManager child class?  The locking would need to be handled in get_manager().",False,15
115148,ironic/common/sync_factory.py,10380,7,1abeadc6_3e88c4e6,Line,51,,2014-08-20 00:02:42,Why would you want lazy loading?,False,15
115148,/COMMIT_MSG,10380,9,1abeadc6_4eb2db4c,File,-1,,2014-08-21 22:39:51,Can you give a little more detail here?,False,15
112880,openstack_dashboard/dashboards/admin/volumes/volumes/views.py,12814,17,fa98f980_1c93a15b,Line,80,fa98f980_7d384eef,2014-09-05 12:44:43,Done,False,15
112880,openstack_dashboard/dashboards/admin/volumes/volumes/views.py,12299,17,fa98f980_7d384eef,Line,80,,2014-09-04 11:14:20,ditto (constants),False,15
112880,openstack_dashboard/dashboards/admin/volumes/volumes/views.py,12814,17,fa98f980_dcad999c,Line,78,fa98f980_3d53263a,2014-09-05 12:44:43,Done,False,15
112880,openstack_dashboard/dashboards/admin/volumes/volumes/views.py,12299,17,fa98f980_3d53263a,Line,78,,2014-09-04 11:14:20,ditto (constants),False,15
112880,openstack_dashboard/dashboards/admin/volumes/volumes/views.py,12814,17,fa98f980_5c99a977,Line,27,fa98f980_9db41283,2014-09-05 12:44:43,Done,False,15
112880,openstack_dashboard/dashboards/admin/volumes/volumes/views.py,12299,17,fa98f980_9db41283,Line,27,,2014-09-04 11:14:20,ditto (same import twice),False,15
112880,openstack_dashboard/dashboards/admin/volumes/volumes/tables.py,12814,17,fa98f980_7ca4adb9,Line,67,fa98f980_bd471676,2014-09-05 12:44:43,Done,False,15
112880,openstack_dashboard/dashboards/admin/volumes/volumes/tables.py,12299,17,fa98f980_bd471676,Line,67,,2014-09-04 11:14:20,ditto (constants),False,15
112880,openstack_dashboard/dashboards/admin/volumes/tests.py,12814,17,fa98f980_7cbd8dd7,Line,203,fa98f980_1d7f42ac,2014-09-05 12:44:43,Done,False,15
115148,ironic/conductor/task_manager.py,10380,7,1abeadc6_2146e97c,Line,184,,2014-08-20 00:02:42,"I still think it makes sense to pass shared into the driver, even if it isn't really used currently.",False,15
110817,barbican/queue/keystone_listener.py,10873,11,1abeadc6_7a2c284b,Line,54,,2014-08-26 16:10:06,- the event,False,15
117576,ironic/sync/zookeeper.py,9856,5,fa98f980_4eeaeb74,Line,75,fa98f980_fd30bb57,2014-09-12 22:28:21,That is difficult to test as Kazoo creates a partial function for the Lock recipe which does not behave in an expected manner. I'll look into it next week.,False,15
117576,ironic/sync/zookeeper.py,9856,5,fa98f980_3da16346,Line,80,fa98f980_9dc6cf66,2014-09-12 22:28:21,Good point.,False,15
119469,openstack_dashboard/dashboards/identity/projects/workflows.py,12355,2,da9df570_b8879dd6,Line,408,,2014-09-23 14:32:54,"maybe this ?(in one line):
self.object = api.keystone.tenant_create(request, **kwargs)",False,15
119469,openstack_dashboard/dashboards/identity/projects/workflows.py,12355,2,da9df570_78d7f523,Line,131,,2014-09-23 14:24:53,strange alignment,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,6162,72,baada198_a36125d5,Line,40,baada198_8a8bad1d,2014-07-17 17:08:26,The --no-deps thing I brought back after talking with Auston.  The work that I'm doing today *should* address how we might handle dependencies.,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,74,baada198_1913e301,Line,1,,2014-07-19 11:03:02,"Please add docstring to each method, so it would easier to understand what's going on.",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,75,baada198_b64108a8,Line,143,,2014-07-21 10:47:20,"I'm not happy about such thing. Implement version tracking polling mechanism instead of providing random sleep time (as i already mentioned once, you can predict how long can package be installed with/without deps",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,74,baada198_39d34739,Line,20,,2014-07-19 11:03:02,from trove.common import utils,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,75,baada198_76913051,Line,128,,2014-07-21 10:47:20,same,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,74,baada198_d96ecb95,Line,27,,2014-07-19 11:03:02,"we should not hardcode upstart conf, since it forces deployers to stich with only certain file structure.

glucas is working on https://review.openstack.org/#/c/100381/ parametrizing injection path, so i think we should merge that patch and then revisit this one.",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,75,baada198_5696ec4c,Line,124,,2014-07-21 10:47:20,"what if `init.d` ?

All of this should be taken into account.

And what about updating previous upstart scripts? Suppose you've changed configuration file location (that's what you're actually doing) and guest was registered as OS service and it has start stop scripts?

As for me, it's a huge uncovered gap. Too many hardcoding, too many specific deployment-orientied things that are not covered with documentation( upgrade/update documentation is missing at all).


Please find more flexible way to address given concerns.",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,75,baada198_b6e908e5,Line,119,,2014-07-21 10:47:20,"return d.strftime(""%Y-%m-%dT%H:%M:%SZ"")

please reduce methods` LOC size",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,75,baada198_33e98a7f,Line,112,,2014-07-21 10:47:20,should be 'terminating' instead if 'stopping',False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,74,baada198_f9154fe6,Line,31,,2014-07-19 11:03:02,Implements,False,15
117626,doc/source/cloner.rst,2475,1,1abeadc6_ce4c0245,Line,93,1abeadc6_131e560c,2014-08-29 19:54:48,"Zuul cloner should probably use git clone with the provided dir (i.e. do not silently prefix  'file://' by default) and prevent hard linking via an option.

The thing that confuses me when reading the git-clone man page is that there are two options that apparently achieve the same (prevent hardlinks):

 --no-local
 --no-hardlinks

Maybe we can have a --cache-no-hardlinks option that would be passed to git clone to prevent hard linking.  Could be added to James patch (parent of this one).",False,15
117626,doc/source/cloner.rst,1,1,fa98f980_4fa462b9,Line,93,,2014-09-16 15:21:52,"I like the idea that we should just do what git does.  What if we accepted either a path or file URL, just like git, and parsed the URL to determine its filesystem location (which we need to do in order to test whether the dir exists)?",False,15
117576,ironic/sync/zookeeper.py,1297,5,fa98f980_9dc6cf66,Line,80,,2014-09-12 19:46:27,What happens if this get() call fails?,False,15
117626,doc/source/cloner.rst,4146,1,1abeadc6_131e560c,Line,93,,2014-08-28 21:44:17,"I don't know if we should expect the implied ""let git clone create hardlinks if the cached repo and destination repo are on the same filesystem"" to be clear to everyone. Do you think we should be explicit about that behavior here?",False,15
117576,ironic/sync/zookeeper.py,10165,7,fa98f980_634dbd99,Line,104,fa98f980_b4e56839,2014-09-16 18:15:46,"not sure, but what might help fix the semantics is to have just a single lock instance as a member of ZooKeeperSyncManager; a release of a lock that you don't own is ok [1], the function will just return false

[1] http://kazoo.readthedocs.org/en/latest/_modules/kazoo/recipe/lock.html#Lock.release",False,15
117576,ironic/sync/zookeeper.py,9856,7,fa98f980_83e621af,Line,104,fa98f980_b4e56839,2014-09-16 17:33:26,"Yep, I'll get around to fixing it. I did make a comment stating it shouldn't be used. This is a WIP after all ;)",False,15
117576,ironic/sync/zookeeper.py,9856,7,fa98f980_d2d98e23,Line,104,fa98f980_634dbd99,2014-09-18 22:35:45,I don't think having a single lock instance is acceptable. There does need to be some more thought put into how releasing will work -- not 100% sure what the final implementation will be at this point.,False,15
117576,ironic/sync/zookeeper.py,1297,7,fa98f980_b4e56839,Line,104,,2014-09-13 00:15:15,"Does this actually work? Looking at the kazoo code it doesn't appear u can release unless u acquire first.

The self.node in https://github.com/python-zk/kazoo/blob/master/kazoo/recipe/lock.py#L148 is only created on acquire(), its then used on release() @ https://github.com/python-zk/kazoo/blob/master/kazoo/recipe/lock.py#L225 so this seems like it would croak with a attribute error if that self.node attribute hasn't been created/set.",False,15
117576,ironic/sync/zookeeper.py,9856,7,fa98f980_87cfc656,Line,93,fa98f980_0d2d02a9,2014-09-18 22:35:45,good catch. thanks for the review!,False,15
117576,ironic/sync/zookeeper.py,10165,7,fa98f980_0d2d02a9,Line,93,,2014-09-16 18:15:46,"potential race: if you exited self._acquire due to exception, then you access the Node without holding the lock; if you aren't going to be accessing the protected resource inside of a context block, then you should use the is_acquired member of the lock [1] to determine whether you hold the lock

[1] http://kazoo.readthedocs.org/en/latest/_modules/kazoo/recipe/lock.html#Lock.acquire",False,15
117576,ironic/sync/zookeeper.py,1297,7,fa98f980_282ab490,Line,81,,2014-09-16 17:06:53,Still doesn't handle the get failing.,False,15
117576,ironic/sync/zookeeper.py,9856,7,fa98f980_234495b6,Line,73,fa98f980_f4eb7010,2014-09-16 17:33:26,Nice suggestion!,False,15
117576,ironic/sync/zookeeper.py,1297,7,fa98f980_f4eb7010,Line,73,,2014-09-13 00:15:15,"Might as well use:

https://github.com/python-zk/kazoo/blob/master/kazoo/protocol/paths.py#L19",False,15
117576,ironic/sync/zookeeper.py,9856,5,fa98f980_5d046749,Line,103,fa98f980_dda3f7af,2014-09-12 22:28:21,This is a WIP for releasing a lock. I'm going to need to find the proper way to release a lock with the same identifier.,False,15
117576,ironic/sync/zookeeper.py,1297,5,fa98f980_dda3f7af,Line,103,,2014-09-12 19:46:27,"This confuses me.

Why do this?",False,15
117576,ironic/sync/zookeeper.py,1297,5,fa98f980_3d5c037d,Line,94,,2014-09-12 20:03:24,"Something to consider, 

When u have gotten the lock, and continue to do other work, since this is a distributed system u could lose the lock at any point after u have initially got it, how does this code handle the lose of the lock after it has initially succeeding?

For example:

 1. Get lock
 2. Boot baremental
 3. Do other stuff with baremetal
 4. Finish
 5. Do official lock release

At any point after 1. the lock could be lost (and another owner could claim/acquire it?), either due to disconnection from the zookeeper server, the zookeeper server crashing or other....

Just some things to think about. Distributed systems are hard :-P",False,15
117576,ironic/sync/zookeeper.py,9856,5,fa98f980_e0d2ce5a,Line,92,fa98f980_bda633a9,2014-09-12 22:28:21,Right...,False,15
117576,ironic/sync/zookeeper.py,1297,5,fa98f980_bda633a9,Line,92,,2014-09-12 19:51:19,"This doesn't seem right, the _acquire method can actually have failed to acquire the lock, raised an exception, then this code will catch that and release the lock that someone else owns. That seems bad.",False,15
117576,ironic/tests/sync/test_sync_zookeeper.py,1297,5,fa98f980_7dce8b5b,Line,35,,2014-09-12 19:53:41,"For this whole thing I'd recommend using something else.

https://pypi.python.org/pypi/zake

I created the above to allow u to have a in-memory zookeeper client that acts like a real zookeeper client, and that zake client can be introspected during, after tests and so on.

It'd probably be better to just use zake instead of all these mocks and so on... Then u are testing actual functionality, instead of mocks...",False,15
120866,glance_store/_drivers/swift/store.py,6159,3,fa98f980_e24d129b,Line,103,fa98f980_7ce646b2,2014-09-17 11:01:38,"I'd probably go with just 1 buffer implementation for now. Not sure what others think about this, though. It feels like we're going against YAGNI here.

One more question. What happens if someone does not want the in-memory buffer. It doesn't seem there's a way to disable this right now. I know disabling it basically means reviving the bug it tries to fix but not having a way to do so forces users to always use the in-memory buffer unless the write their own.

All this makes me think that probably going with just 1 for now w/o config options is better.",False,15
110817,barbican/queue/keystone_listener.py,1091,11,1abeadc6_4ef24e9b,Line,34,1abeadc6_9a0824db,2014-08-26 18:05:52,Okay. Will add this in next patch.,False,15
110817,barbican/queue/keystone_listener.py,1091,11,1abeadc6_ee015a6b,Line,31,1abeadc6_5a504cd4,2014-08-26 18:05:52,Okay. Will add this in next patch.,False,15
106302,/COMMIT_MSG,2284,1,baada198_8ed18f59,Line,40,,2014-07-11 08:35:56,Change-Id should go last if possible (otherwise it can confuse our wonderful downstream backporting pipeline),False,15
105660,specs/juno/dhcp-relay.rst,8279,5,baada198_2eb10647,Line,72,,2014-07-14 22:59:55,this one is still left :),False,15
105660,specs/juno/dhcp-relay.rst,8279,4,baada198_bdc9ce27,Line,44,,2014-07-14 21:41:36,whitespaces,False,15
105501,tox.ini,4146,2,baada198_ea00a937,Line,7,baada198_eacc298d,2014-07-08 17:07:23,"Correct, at least for the tests run via tox. There may be a devstack setup or two that runs with libguestfs but those rely on devstack to do global and not virtualenv installs. So this shouldn't matter and successful py26/py27 test results seem to confirm.",False,15
105501,tox.ini,1779,2,baada198_eacc298d,Line,7,,2014-07-08 16:59:01,"NB, this will affect libguestfs, since its python module isn't in PyPI. That said I don't think  we've ever tested the libguestfs codepaths int he gate anyway so perhaps this doesn't matter ?",False,15
105367,specs/juno/update-tenant-owner-of-instances.rst,6526,5,baada198_fa59458f,Line,51,baada198_344af427,2014-07-09 05:56:24,Do you mean I can update the api/openstack/compute/servers.py to simply add the tenant_id and user_id check in the existing update function and have to create a API extension?,False,15
105367,specs/juno/update-tenant-owner-of-instances.rst,7,5,baada198_344af427,Line,51,,2014-07-09 03:05:05,"Unfortunately, and it pains me to say this... You will need to create a new API extension for the v2 API that changes the server update REST API command. :(",False,15
105367,specs/juno/update-tenant-owner-of-instances.rst,6526,5,baada198_3a6c9d36,Line,33,baada198_b4e8c417,2014-07-09 05:56:24,Done,False,15
105367,specs/juno/update-tenant-owner-of-instances.rst,7,5,baada198_b4e8c417,Line,33,,2014-07-09 03:05:05,"I think it's kind of silly that we don't have a nova update CLI command. We have a nova rename command -- which updates the name of the server. I hate the idea of adding a new ""delegate"" command to nova's CLI, which is already crazily complicated due to all the darn API extensions...

How about adding a nova update CLI command instead of this proposed delegate command, which would allow updating the server's name or transferring ownership to another tenant or user ID?",False,15
105367,specs/juno/update-tenant-owner-of-instances.rst,6526,5,baada198_badc2d1a,Line,31,baada198_948ca081,2014-07-09 05:56:24,"Here, I am considering the following scenario:
Instance A belongs to Tenant TA and Owner OA, using the Network NA
I want to transfer A to Tenant TB and Owner OB (This owner should belong to TB which reach the first condition).

If the NA is a public network and has no tenant associated, we should allow this transfer. But if the NA is already associated with TA, we should not allow this, otherwise the IP resource of TA will be occupied by TB.

Do you have any thought on this?",False,15
105367,specs/juno/update-tenant-owner-of-instances.rst,7,5,baada198_948ca081,Line,31,,2014-07-09 03:05:05,"Hmm, how would the second condition be reached if the first condition is not? In other words, if the user belongs to the same tenant, then how would the instance's network *not* belong to the same tenant?",False,15
105367,specs/juno/update-tenant-owner-of-instances.rst,6526,5,baada198_3a53bd6d,Line,28,baada198_b481a44f,2014-07-09 05:56:24,Done,False,15
105367,specs/juno/update-tenant-owner-of-instances.rst,7,5,baada198_b481a44f,Line,28,,2014-07-09 03:05:05,s/does not under/does not belong to/,False,15
105367,specs/juno/update-tenant-owner-of-instances.rst,6526,5,baada198_1a88b9e6,Line,20,baada198_74b8ec2a,2014-07-09 05:56:24,Done,False,15
105367,specs/juno/update-tenant-owner-of-instances.rst,7,5,baada198_74b8ec2a,Line,20,,2014-07-09 03:05:05,s/to allow we can delegate/to allow transferring ownership of/,False,15
105367,specs/juno/update-tenant-owner-of-instances.rst,6526,5,baada198_fa8225c7,Line,11,baada198_f4a4fc09,2014-07-09 05:56:24,Done,False,15
105367,specs/juno/update-tenant-owner-of-instances.rst,7,5,baada198_f4a4fc09,Line,11,,2014-07-09 03:05:05,"Just a naming nit... I think a more descriptive name for the blueprint would be ""transfer-instance-ownership""",False,15
105367,specs/juno/transfer-instance-ownership.rst,136,10,baada198_da8a4863,Line,44,,2014-07-11 18:44:53,"Not a requirement to implement this but just thinking through the impact...

What happens for the keypairs ? If we change the owner, would the keypair be changed / specified ?
would how would the VM pick up the new keypair ?",False,15
105367,specs/juno/transfer-instance-ownership.rst,136,10,baada198_1767394e,Line,36,,2014-07-11 18:37:22,What happens to the quota ? I presume that this also needs to be checked so that we don't transfer a VM without checking there is quota available.,False,15
105367,specs/juno/transfer-instance-ownership.rst,6526,9,baada198_712a8f91,Line,38,baada198_f1e05ffc,2014-07-10 06:07:11,"This is still a open discussion item in my previous patch set 5 with Jay. 

Many resources that are associated with the VM should be considered, network, flavor, image, etc.
But at least I think we can allow to transfer the ownership between two user in one project if one of the above resources is belong to the tenant A.",False,15
105367,specs/juno/transfer-instance-ownership.rst,3217,9,baada198_26d37839,Line,38,baada198_712a8f91,2014-07-10 08:49:55,"Perhaps.  You haven't addressed the points, though.  Hopefully other people will read the comment above - I'm not going to stand in judgement of you for it - but I am sceptical.",False,15
105367,specs/juno/transfer-instance-ownership.rst,3217,9,baada198_f1e05ffc,Line,38,,2014-07-10 05:14:46,"<can of worms>

What if you're attached to a network in tenant A and you transfer VM ownership to tenant B?  Are there other cases like this that come up (for instance, policy prevents you from using flavor X in tenant B, but you can make the instance in A and transfer it)?  How much do we really case what consenting adults do in the privacy of their own tenancies?

</can of worms>",False,15
105367,specs/juno/transfer-instance-ownership.rst,3217,9,baada198_c6f39ce5,Line,31,baada198_8cbaacdf,2014-07-10 08:49:55,"Yes - it's not what you're proposing, it's a generalisation that would cover your use case where you have control of the giver and receiver but would extend to mutually untrusting givers and receivers.  As I say - would be nice, don't see the answer, would like to see someone provide the answer.",False,15
105367,specs/juno/transfer-instance-ownership.rst,6526,9,baada198_8cbaacdf,Line,31,baada198_71fe0fb0,2014-07-10 06:07:11,"Not sure if I really get your point. IMO, your concern regarding the transfer instance to willing owner, should belong to operation or orchestrator layer, at least we need provide a way to allow update the tenant and user id in API layer, for operation layer, we can add more validation, for example, approve, accept and reject.",False,15
105367,specs/juno/transfer-instance-ownership.rst,3217,9,baada198_71fe0fb0,Line,31,,2014-07-10 05:14:46,"I think it's a shame you can't transfer an instance to a willing owner that is not you, but I'm damned if I can see how that would work.

(The reason I say this here is because there's actually sensible reasons why you might want to make the same operation work in Neutron, where you hand a port over to a third party - in order to attach a service someone else is selling you - and it would be nice if we worked out the same pattern and applied it to all cases.)

This comment placed here so that parties with an opinion might see it.  It's not actually going to affect your spec, which is self-contained and doesn't require change.",False,15
105367,specs/juno/transfer-instance-ownership.rst,6526,9,baada198_c43a8d97,Line,30,baada198_97ab771d,2014-07-11 04:50:04,"Yes, we also need consider the volume, I will update this.

We should support both, change owner id and tenant id.",False,15
105367,specs/juno/transfer-instance-ownership.rst,1849,9,baada198_97ab771d,Line,30,,2014-07-10 19:24:26,"what about attached cinder volumes etc?

Are you proposing supporting the ability to change ownership inside of the same tenant. Or supporting changing ownership across tenants too?",False,15
105057,modules/openstack_project/files/ansible/rename.yaml,7233,2,baada198_a61e2f0a,Line,10,,2014-07-07 05:57:13,"I wonder if a blank like should be added between -hosts sections to make it easier to make the flow easier for the eyes. This one isn't a blocker, just a suggestion.",False,15
105057,modules/openstack_project/files/ansible/rename.yaml,7233,2,baada198_c66b2383,Line,6,,2014-07-07 05:57:13,Remove extra space,False,15
106302,/COMMIT_MSG,3012,1,baada198_0e8adfbe,Line,40,baada198_8ed18f59,2014-07-11 08:52:04,"afaik, change-id should be in the last section and that's it, so current situation won't be parsed wrong. Although I also prefer Change-Id as a last line just to be clear :)",False,15
106302,/COMMIT_MSG,2284,1,baada198_8eea6f0d,Line,41,,2014-07-11 08:35:56,"Are you missing a ""blueprint"" from the tag there?

e.g.

   Implements: blueprint arithmetic-transformer

so that it's autolinked by gerrit.",False,15
106302,/COMMIT_MSG,8052,1,baada198_8e134fb7,Line,41,baada198_8eea6f0d,2014-07-11 09:33:38,"Whoops, thanks!",False,15
106302,ceilometer/tests/pipeline_base.py,2284,4,baada198_8ee3aba3,Line,1448,,2014-07-16 12:16:58,"Could the 4 separate testcases in test_arithmetic_expr_parse be factored out into 4 tests each of which calls a parameterized _do_test_arithmetic_expr_parse(self, expr, expected) style of method?",False,15
107725,install_modules.sh,6554,6,1abeadc6_680e67e7,Line,57,,2014-08-25 05:54:16,Version 0.1.0 is the latest. Maybe you meant that?,False,15
106884,modules/openstack_project/manifests/jenkinsuser.pp,7233,4,baada198_39b624fa,Line,1,,2014-07-24 01:34:33,2013 or 2014?,False,15
106884,modules/jenkins/manifests/slave.pp,4146,8,baada198_841bc06d,Line,17,,2014-08-04 23:23:45,Don't you still want to include jenkins user on jenkins slaves? seems like the generic jenkins slave should include the generic jenkins user.,False,15
106302,ceilometer/transformer/arithmetic.py,9562,5,baada198_d8e10d9d,Line,58,,2014-07-22 09:57:32,"Not a blocking issue, but in the future please avoid using one letter long variable names. It makes harder to read the code.",False,15
106302,ceilometer/transformer/arithmetic.py,8052,4,baada198_a972290f,Line,86,baada198_2e161f56,2014-07-16 12:28:28,"All the samples are from the same polling task - shouldn't the timestamps be pretty close together anyway? Can there be enough of a difference between samples in the same polling task to actually count?

I agree though that it is more hygienic to have the more intuitive behaviour of the latest sample contributing the timestamp, so I'll make it happen :-)",False,15
106302,ceilometer/transformer/arithmetic.py,2284,4,baada198_2e161f56,Line,86,,2014-07-16 12:16:58,"Should the timestamp for the combined sample be the *latest* of all the contributing samples?

(as opposed to the timestamp of the sample for whatever the first meter happens to be on the required list)",False,15
106302,ceilometer/transformer/arithmetic.py,8052,2,baada198_c0d31dd3,Line,18,baada198_68c1882e,2014-07-14 05:34:01,Done,False,15
106302,ceilometer/transformer/arithmetic.py,10987,2,baada198_68c1882e,Line,18,,2014-07-11 13:07:43,It should be moved to the last block of imported modules.,False,15
106302,ceilometer/transformer/arithmetic.py,8052,1,baada198_2e008333,Line,148,baada198_4ec5b75a,2014-07-11 09:33:38,Done,False,15
106302,ceilometer/transformer/arithmetic.py,2284,1,baada198_4ec5b75a,Line,148,,2014-07-11 08:35:56,Probably could just compile that RE once upfront.,False,15
106302,ceilometer/transformer/arithmetic.py,8052,1,baada198_315c624b,Line,121,baada198_f1590a36,2014-07-11 09:33:38,Done,False,15
106302,ceilometer/transformer/arithmetic.py,3012,1,baada198_f1590a36,Line,121,,2014-07-11 08:52:04,"that's not the gerrit magic, please fix the last """""" indent",False,15
106302,ceilometer/transformer/arithmetic.py,8052,1,baada198_f1466a7a,Line,113,baada198_5131d6eb,2014-07-11 09:33:38,Done,False,15
106302,ceilometer/transformer/arithmetic.py,3012,1,baada198_5131d6eb,Line,113,,2014-07-11 08:52:04,"please use the indent for the ""the translation..."" line as the ""A tuple..."" phrase has.",False,15
105057,doc/source/sysadmin.rst,1,2,baada198_2f08d62d,Line,281,,2014-07-29 23:06:53,nova stops trying to keep track?  you mean puppet?,False,15
106302,ceilometer/transformer/arithmetic.py,8052,1,baada198_aef4935b,Line,104,baada198_4eee97ee,2014-07-11 09:33:38,Good point. Done.,False,15
106302,ceilometer/transformer/arithmetic.py,8052,1,baada198_d1232656,Line,74,baada198_ae1e536e,2014-07-11 09:33:38,Done,False,15
106302,ceilometer/transformer/arithmetic.py,3012,1,baada198_ae1e536e,Line,74,,2014-07-11 08:52:04,Probably use more specific exception? ArithmeticError for instance or defined by you - it's not really pythonic to use so common exceptions.,False,15
106302,ceilometer/transformer/arithmetic.py,8052,1,baada198_0edc9fe3,Line,64,baada198_8e5fcfe4,2014-07-11 09:33:38,"Cache[resource_id] is a dict as well, so the keys are unique.",False,15
106302,ceilometer/transformer/arithmetic.py,2284,1,baada198_8e5fcfe4,Line,64,,2014-07-11 08:35:56,Edge case of multiple samples for the same meter generated by one task?,False,15
106302,ceilometer/transformer/arithmetic.py,8052,1,baada198_0e557f4f,Line,49,baada198_aed9f358,2014-07-11 09:33:38,"Yep, thanks. This if used to contain more code :-)",False,15
106302,ceilometer/transformer/arithmetic.py,2284,1,baada198_aed9f358,Line,49,,2014-07-11 08:35:56,"More readable as:

  self.misconfigured = len(self.required_meters) == 0
  if not self.misconfigured:
      self.reference_meter = self.required_meters[0]
      ...",False,15
106302,ceilometer/transformer/arithmetic.py,8052,1,baada198_9190ce44,Line,33,baada198_4e03f70f,2014-07-11 09:33:38,Done,False,15
106302,ceilometer/transformer/arithmetic.py,3012,1,baada198_4e03f70f,Line,33,,2014-07-11 08:52:04,Usually first line of the multi-line doctoring ends with '.' if that's possible to be done in 80 symbols margin.,False,15
106302,ceilometer/transformer/__init__.py,8052,1,baada198_ee0e8b8b,Line,75,baada198_ae3d7391,2014-07-11 09:33:38,Done,False,15
106302,ceilometer/transformer/__init__.py,2284,1,baada198_ae3d7391,Line,75,,2014-07-11 08:35:56,"Maybe:

  s/scale factor/rule/

given that the usage if this is now a bit more generic.

Also my bad in the original docstr:

  s/Encapsulation is going/Encapsulation is done/",False,15
106302,ceilometer/tests/pipeline_base.py,2284,5,baada198_3dc7d346,Line,1549,baada198_bd04c315,2014-07-18 11:12:21,I stand corrected :),False,15
106302,ceilometer/tests/pipeline_base.py,8052,5,baada198_bd04c315,Line,1549,baada198_b71dc275,2014-07-18 10:56:36,"That's done on L1581, NaN is also tested in L1572 :)",False,15
106302,ceilometer/tests/pipeline_base.py,2284,5,baada198_b71dc275,Line,1549,,2014-07-18 10:30:51,"Just for kicks, how about throwing in a testcase that exercises the unhappy path in the calculation, e.g. a divide by zero?",False,15
106302,ceilometer/tests/pipeline_base.py,8052,4,baada198_0959558e,Line,1448,baada198_8ee3aba3,2014-07-16 12:28:28,Will do.,False,15
106302,ceilometer/transformer/arithmetic.py,2284,1,baada198_4eee97ee,Line,104,,2014-07-11 08:35:56,"Do we want to emit this warning on every single flush?

Would it make sense to instead just emit once when we compute self.misconfigured in the init method?",False,15
107725,modules/openstack_project/manifests/jenkins.pp,6987,1,baada198_f01a04c5,Line,200,,2014-07-17 20:39:19,"file that was added is 'default_stunnel', this should probably match.",False,15
104883,specs/juno/spot-instances.rst,91,3,baada198_6a3d8adc,Line,98,,2014-07-08 10:30:26,"This is incomplete, and just added as a reference.",False,15
104883,specs/juno/spot-instances.rst,91,2,baada198_a2ca9818,Line,50,baada198_eb4c8744,2014-07-07 08:35:18,This will not be implemented in this blueprint. Once the spot mechanism is in place (i.e. an instance can stop another one and it is properly scheduled) bidding will be implemented.,False,15
100381,trove/taskmanager/models.py,8415,6,baada198_19984374,Line,339,,2014-07-19 11:08:03,"I've got suggestion.
Let's move file extension definition and content building into its own method of FreshInstanceTask, so it would improve code re-useness since this pattern appears twice - 

lines 
#338-348 
and 
#592-601",False,15
100381,trove/taskmanager/models.py,9749,6,baada198_5c6fff5f,Line,70,baada198_9ceef720,2014-07-20 13:04:49,"The user can override injected_config_location in trove-taskmanager.conf. Users trying to use a pre-juno image would need to set this to '/etc' so that their existing guestagent init scripts work; in that scenario we want to fall back to the old guest_info file name as well.

(I tested this case using my patched taskmanager with the unpatched trove-integration kick-start image.)",False,15
100381,trove/taskmanager/models.py,9664,6,baada198_9ceef720,Line,70,,2014-07-20 12:29:18,"I don't understand this hunk of code. injected_config_location is set to /etc/trove/guest_info.conf

I can't see how you'd ever get the true part of this test to occur. But you have a comment here that relates this to pre-juno guest images.",False,15
100381,trove/taskmanager/models.py,9749,6,baada198_dc830f01,Line,68,baada198_fc953388,2014-07-20 13:04:49,"As you may have guessed, I shortened it to deal with pep8 line wrapping stuff elsewhere in the file. But perhaps with the other refactoring it'll work out better.",False,15
100381,trove/taskmanager/models.py,9664,6,baada198_fc953388,Line,68,,2014-07-20 12:29:18,"I know that injected_config_location is a long string but would you consider naming the variable the same (capitalized) as the CONF parameter?

INJECTED_CONFIG_LOCATION = CONF.injected_config_location",False,15
100381,trove/taskmanager/models.py,8415,3,baada198_501e0560,Line,584,,2014-07-04 10:50:58,same,False,15
100381,trove/taskmanager/models.py,8415,3,baada198_302d1196,Line,577,,2014-07-04 10:50:58,same,False,15
100381,trove/taskmanager/models.py,10725,3,baada198_7dc5dd3a,Line,333,baada198_dcc8b624,2014-07-03 04:23:04,Agree.,False,15
100381,trove/taskmanager/models.py,9749,3,baada198_1e0c2642,Line,333,baada198_8e764b3d,2014-07-01 13:07:02,"Yes, I think creating an option for this is reasonable and may address the backward-compatibility concern that Sergey raised.",False,15
100381,trove/taskmanager/models.py,8415,3,baada198_10280d85,Line,333,baada198_8e764b3d,2014-07-04 10:50:58,+1,False,15
100381,trove/taskmanager/models.py,5390,3,baada198_dcc8b624,Line,333,baada198_1e0c2642,2014-07-02 21:03:24,I agree making the CONF_DIR configurable.,False,15
100381,trove/taskmanager/models.py,9664,3,baada198_8e764b3d,Line,333,,2014-07-01 11:29:12,since this location is also used in one other place (cfg.py) does it make sense to make this a config option like cloudinit_location?,False,15
100381,trove/taskmanager/models.py,9749,3,baada198_be36da01,Line,69,baada198_ee68a7f7,2014-07-01 13:07:02,"The clarification you're looking for is between /etc/trove and /etc/trove/conf.d, right? I don't think ""user created"" is appropriate. The guest_info file is generated by the taskmanager; and the trove-guestagent.conf is configured by the operator in the same way as /etc/trove/trove.conf and related files. Perhaps this is the ""injected conf dir"" or ""cloud init conf dir"".",False,15
100381,trove/taskmanager/models.py,10725,3,baada198_b1360b02,Line,69,baada198_be36da01,2014-07-03 04:23:04,"Both your suggestions are valid, so please pick one of them.",False,15
100381,trove/taskmanager/models.py,10725,3,baada198_ee68a7f7,Line,69,,2014-07-01 12:23:39,"To be accurate this is directory where user-created configuration can be stored, so

USER_CREATED_CONF_DIR

probably better and widely used term.",False,15
100381,etc/trove/conf.d/guest_info.conf,9749,6,baada198_bc7e5b19,Line,1,baada198_9c87d760,2014-07-20 13:04:49,"Ha - yeah, wondered about that myself. File was just renamed but I could fix the comment as well.",False,15
100381,etc/trove/conf.d/guest_info.conf,9664,6,baada198_9c87d760,Line,1,,2014-07-20 12:29:18,Arbitrary?,False,15
100381,/COMMIT_MSG,9749,9,1abeadc6_13734de8,Line,12,baada198_e068abbe,2014-08-25 17:34:54,Done,False,15
100381,/COMMIT_MSG,8415,9,baada198_e068abbe,Line,12,baada198_7ee629e9,2014-08-13 14:04:44,"Yeah, please fix it.",False,15
100381,/COMMIT_MSG,10215,9,baada198_7ee629e9,Line,12,,2014-08-12 18:57:02,typo - creation*m*,False,15
100381,/COMMIT_MSG,9749,7,baada198_5d678b51,Line,21,baada198_6e067087,2014-07-22 19:44:30,Done,False,15
100381,/COMMIT_MSG,8415,7,baada198_6e067087,Line,21,,2014-07-22 12:18:24,please renive lines #21-23 because you already have Depends-On section,False,15
100381,/COMMIT_MSG,9749,6,baada198_5fac5888,Line,23,baada198_99837302,2014-07-20 13:04:49,"Is this a convention? Did a quick git log --grep and don't see it, but it makes sense to me. Looks like ""Depends-On: "" would be more consistent.",False,15
100381,/COMMIT_MSG,8415,6,baada198_99837302,Line,23,,2014-07-19 11:09:03,"Could you please paste Change-Id of that review.


Example:

DependsOn: I1dffd373da722af55bdea41fead8456bb60c82b2",False,15
100381,/COMMIT_MSG,8415,3,baada198_1001ed04,Line,21,baada198_fd42cd0e,2014-07-04 10:50:58,+1 to Sergeys' points,False,15
100381,/COMMIT_MSG,10725,3,baada198_fd42cd0e,Line,21,baada198_1e4b462c,2014-07-03 04:23:04,"If there are no predefined images I am fine with that patch as is. Hopefully this is the last time we change a location of injected files, but making it configurable sounds better.",False,15
100381,/COMMIT_MSG,9749,3,baada198_1e4b462c,Line,21,baada198_095b1588,2014-07-01 13:07:02,"Good question, though I'm not sure how much of a concern this actually is (see below). Would be interested to hear what others think. 

 - There are no OpenStack-provided predefined images for Ubuntu either, except those created for integration tests. Those are NOT intended for any actual deployment and change all the time. 

 - Is it actually a requirement that a guest image can be used to without change across releases? I would expect that you would want to create images with the Juno guest agent installed, for example. Note this change doesn't affect running instances, only the creation process off an image. 

That said: if we were to make the injection target dir configurable as Amrith suggested in another comment, might that provide a workaround for users that want to continue to use the /etc dir directly?",False,15
100381,/COMMIT_MSG,10725,3,baada198_095b1588,Line,21,,2014-07-01 12:23:39,"1. I really hate this side effect, especially because there is no good way to communicate it! I am working with Fedora so we still don't have predefined images, but I am wondering what will happen to all existing Ubuntu images?

2. Another aspect is migration - you move from Icehouse to Juno and suddenly your perfectly working image just stops working?",False,15
100381,/COMMIT_MSG,9664,3,baada198_2e2c5f47,Line,16,,2014-07-01 11:29:12,please mark this as a related change.,False,15
100381,trove/taskmanager/models.py,9664,6,baada198_3cba4b0b,Line,339,baada198_19984374,2014-07-20 12:29:18,There are a couple of other avenues for refactoring; see also your change around 422-425,False,15
100381,trove/taskmanager/models.py,8415,7,baada198_ceca1c6f,Line,70,,2014-07-22 12:18:24,"why all this logic can't be a specific method?

why can't this be a part of _get_injected_files?

all of this used only once - at provisioning, please fix it.",False,15
100381,trove/taskmanager/models.py,9749,7,baada198_3d8657bb,Line,70,baada198_ceca1c6f,2014-07-22 19:44:30,"Good point, done.",False,15
100381,trove/templates/cassandra/heat.template,8415,3,baada198_d03135ee,Line,37,,2014-07-04 10:50:58,Should be rendered according to trove configuration,False,15
104883,specs/juno/spot-instances.rst,136,2,baada198_eb4c8744,Line,50,,2014-07-04 16:02:14,How will we set the bid price for the spot ?,False,15
104883,specs/juno/spot-instances.rst,91,2,baada198_e543ba69,Line,49,baada198_a502a207,2014-07-07 09:07:43,Good point. I will cover this in the security section.,False,15
104883,specs/juno/spot-instances.rst,91,2,baada198_a2637840,Line,49,baada198_4bb9f313,2014-07-07 08:35:18,"I do not foresee a notification for the instances that are going to be terminated.

Implementing a notification will also introduce a delay (we should give some time so that the instance prepares for termination) and it is difficult to get a compromise between a reasonable delay for the incoming request and giving the instance enough time to save its state.",False,15
104883,specs/juno/spot-instances.rst,1779,2,baada198_a502a207,Line,49,,2014-07-07 08:44:59,"It feels like this idea will make it possible for people to inflict denial of service attack on the cloud. eg someone could request a 100 non-spot instances, causing many many spot instances to be destroyed, then they could just immediately shut down their non-spot instances again. They wouldnt have incurred any real expense for the short time their non-spot instances run, but they will have killed off many other people's spot instances.",False,15
104883,specs/juno/spot-instances.rst,136,2,baada198_4bb9f313,Line,49,,2014-07-04 16:02:14,How will the instances be notified that they are to be stopped ? or is it no notification ?,False,15
104883,specs/juno/spot-instances.rst,91,2,baada198_22d4c8ea,Line,47,baada198_2b9d9f66,2014-07-07 08:35:18,"Yes, indeed. This is why I drafted this bp without bidding in place, to focus in the scheduling issues.",False,15
104883,specs/juno/spot-instances.rst,136,2,baada198_2b9d9f66,Line,47,,2014-07-04 16:02:14,It is not trivial to know whether stopping an instance will free up resources. Example would be if a specific aggregate combination is needed and the resources being freed are not on one of the relevant hypervisors.,False,15
104883,specs/juno/spot-instances.rst,91,2,baada198_e20bb07a,Line,43,baada198_abdb6f4d,2014-07-07 08:35:18,"I was thinking in a much simpler approach as a first implementation.

In this BP, only non-spot instances are able to stop spot instances. This will always be true, even with bidding in place. In a second bp, bidding should be implemented, so that a spot instance with a higher bid can stop a lower bid one.",False,15
104883,specs/juno/spot-instances.rst,136,2,baada198_abdb6f4d,Line,43,,2014-07-04 16:02:14,There are two attributes... one that this is a spot instance and a second is the 'price' to be paid.,False,15
104883,specs/juno/spot-instances.rst,91,2,baada198_258cd2d9,Line,16,baada198_425c5c4b,2014-07-07 09:07:43,"Yes, it is. Consider that there are not only commercial providers, but also scientific clouds where this feature could be quite useful.

I will cover some more use cases in a further revision, but just as an example, consider the following scenario. A scientific cloud computing infrastructure with two kind of users: some requiring interactivity and some others requiring large processing tasks. The later could use spot instances to process their data (saving intermediate states), filling up as many nodes as they can and the former will use non-spot instances.",False,15
104883,specs/juno/spot-instances.rst,1779,2,baada198_425c5c4b,Line,16,,2014-07-07 08:44:59,"Ok, so, IIUC this feature is only useful in the scenario where the cloud provider is running at near full capacity of their compute hardware. I'm wondering how often this kind of scenario occurs in real world clouds. eg whether it is a big enough problem to justify the complexity of the new feature to deal with it.",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,74,baada198_59639bb0,Line,38,,2014-07-19 11:03:02,shouldn't be wrapped,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,74,baada198_b9f837c5,Line,65,,2014-07-19 11:03:02,"same here, for now - it's totally ok, but, for the future to simplify launch procedure, you should use ""--conf-dir=...""",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,75,baada198_b3503a2d,Line,104,,2014-07-21 10:47:20,"again, i'd suggest to mark this patchset as WIP, because there's a fix hanging on the review that maked guest config injections configurable. And we must wait until it gets merged.

See https://review.openstack.org/#/c/100381/",False,15
104883,specs/juno/spot-instances.rst,1779,2,baada198_2516924c,Line,70,,2014-07-07 08:44:59,Please cover the denial of service attack I mention above here.,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,75,baada198_53dc3ee4,Line,101,,2014-07-21 10:47:20,"upstart_conf_new = ""/etc/init/%s.conf"" % trove_guest_new",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,75,baada198_9617a4ed,Line,43,,2014-07-21 10:47:20,"i wonder what if you have to install more than one package?

I'd suggest to rewrite this method to expect that income `package` parameter can be a list or single package",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,75,baada198_f3c0f2e1,Line,32,,2014-07-21 10:47:20,Implements,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,75,baada198_d3320e0f,Line,27,,2014-07-21 10:47:20,See https://review.openstack.org/#/c/100381/,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,75,baada198_b38bdabe,Line,20,,2014-07-21 10:47:20,from trove.common import utils,False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,74,baada198_79221f55,Line,136,,2014-07-19 11:03:02,"it's totally incorrect to expect that package would be installed during 5 secs.

you have to use polling mechanism that will verify that version was updated.",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,74,baada198_d91c0b16,Line,135,,2014-07-19 11:03:02,"actually, comment is a bit wrong, because at line above package gets installed, pulled and extracted means a bit different thing in terms of packaging process, so please fix it",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,74,baada198_392c274a,Line,117,,2014-07-19 11:03:02,"upstart_conf_new = ""/etc/init/%s.conf"" % trove_guest_new",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,74,baada198_f9fe2fae,Line,109,,2014-07-19 11:03:02,"return d.strftime(""%Y-%m-%dT%H:%M:%SZ"")",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,74,baada198_d9f5ebcb,Line,94,,2014-07-19 11:03:02,"upstart_conf_new = ""/etc/init/%s.conf"" % trove_guest_new",False,15
104620,/COMMIT_MSG,6488,1,baada198_23824ac8,Line,19,,2014-07-03 17:32:09,"This is a pretty serious problem, I think we may want a bug report so people can track it.",False,15
104620,/COMMIT_MSG,6488,1,baada198_c3498eb8,Line,16,,2014-07-03 17:32:09,We actually need to move to one configurable password and user _per controller node per service_. So I wonder if we shouldn't just go the extra mile and start using the random string generator.,False,15
104620,/COMMIT_MSG,6488,1,baada198_836cf636,Line,12,,2014-07-03 17:32:09,"Please wrap these at 72 chars, this is a bit too narrow. It is quite pretty.. like a haiku. ;)",False,15
102197,/COMMIT_MSG,1054,3,1abeadc6_e46f24c2,Line,10,,2014-08-29 18:26:07,"Rather than state questions, I think it makes the commit messages easier if you follow the general rule of just explaining why a change is necessary and describing it's intent.

Think you can add the additional information as a comment in gerrit looking for feedback.",False,15
100381,trove/templates/default.heat.template,8415,6,baada198_b07e7a19,Line,43,,2014-07-20 21:38:35,"This also could be a part of rendering or template parametrizing procedure, since this code appears for other provisioning methods",False,15
85225,trove/guestagent/strategies/upgrade/pip.py,8415,75,baada198_76693024,Line,50,,2014-07-21 10:47:20,"Another thing, you have to provide new configuration option that will be responsible for additional arguments for this exec. This is required because from one release to another you have to upgrade all dependencies.


And even more, why `--no-deps`? As for me, you have to upgrade/update dependecies once you need to upgrade guest.",False,15
107725,modules/openstack_project/manifests/jenkins.pp,7233,1,baada198_f422cd52,Line,200,baada198_f01a04c5,2014-07-18 14:44:40,Done,False,15
107725,modules/openstack_project/manifests/jenkins.pp,6987,2,baada198_fe3d4e8f,Line,148,,2014-07-18 13:43:24,i believe you need brackets around variables like ${gearman_port},False,15
107725,modules/openstack_project/manifests/jenkins.pp,7233,2,baada198_3413655d,Line,148,baada198_fe3d4e8f,2014-07-18 14:34:44,Done,False,15
110817,barbican/model/repositories.py,1091,13,fa98f980_8f2c1804,Line,951,fa98f980_26e90e1b,2014-09-02 21:15:50,Will address in next patch. Details are as mentioned above.,False,15
110817,barbican/model/repositories.py,9234,13,fa98f980_26e90e1b,Line,951,,2014-08-31 03:36:03,yep - backslashes again.,False,15
110817,barbican/model/repositories.py,1091,13,fa98f980_6fee14b6,Line,872,fa98f980_068dea7b,2014-09-02 21:15:50,Will address in next patch. Details are as mentioned above.,False,15
110817,barbican/model/repositories.py,9234,13,fa98f980_068dea7b,Line,872,,2014-08-31 03:36:03,more backslashes,False,15
110817,barbican/model/repositories.py,1091,13,fa98f980_2ff40c86,Line,839,fa98f980_e68f0674,2014-09-02 21:15:50,Will address in next patch. Details are as mentioned above.,False,15
110817,barbican/model/repositories.py,9234,13,fa98f980_e68f0674,Line,839,,2014-08-31 03:36:03,backslashes,False,15
110817,barbican/model/repositories.py,1091,13,fa98f980_0ff90880,Line,708,fa98f980_c692029f,2014-09-02 21:15:50,Will address in next patch. Details are as mentioned above.,False,15
110817,barbican/model/repositories.py,9234,13,fa98f980_c692029f,Line,708,,2014-08-31 03:36:03,same as above re: backslashes,False,15
110817,barbican/model/repositories.py,1091,13,fa98f980_af08fc91,Line,611,fa98f980_a695fe89,2014-09-02 21:15:50,"Not sure if this kind of change should be done as part of another CR as there is lot of existing code which follows this convention. If I just change the new code, it will look little different. I will make change as per recommendation and will refer this patch if somebody has related concerns around this.",False,15
110817,barbican/model/repositories.py,9234,13,fa98f980_a695fe89,Line,611,,2014-08-31 03:36:03,"backslashes are a no-no when we update hacking, so probably a good idea to get in the habit of avoiding them now.",False,15
110817,barbican/model/repositories.py,1091,13,1abeadc6_9f77d2d3,Line,566,1abeadc6_490f4c39,2014-08-28 17:36:31,I don't foresee that deletion count being used other than probably adding it in a  debug level statement. So I am okay leaving this as-is. Do you see any use for adding it back?,False,15
110817,barbican/model/repositories.py,7789,13,1abeadc6_490f4c39,Line,566,,2014-08-28 16:37:46,"Good point about suppressing exception...that really is intended to suppress possible *datastore* exceptions, rather than programmer-foo-bar exceptions. You are correct. 

I'm fine with the deleted count being returned, but it does seem that the query.count() would work as well. Incrementing as you do would save on the additional database connection call for the .count() call though, so I'm preferring the increment approach. Make sense though?",False,15
110817,barbican/model/repositories.py,1091,13,fa98f980_afa55cb6,Line,552,fa98f980_667cf673,2014-09-02 21:15:50,This is leftover from previous change. I will correct the comments as now there is no deleted record count returned.,False,15
110817,barbican/model/repositories.py,9234,13,fa98f980_667cf673,Line,552,,2014-08-31 03:36:03,do we ever do this?,False,15
110817,barbican/model/repositories.py,1091,13,1abeadc6_69cc08bc,Line,293,1abeadc6_eff4af5c,2014-08-28 16:17:26,"I don't see any change in (other than this additional new repo reference in my CR) https://review.openstack.org/#/c/116387/3/barbican/model/repositories.py,cm 

Is not changes related to make usage of singleton approach will be part of separate CR? So if notification changes get merged before that, then it will be addressed with other existing repos references. If new CR changes get merged before, then I will have to take care of that as it will have merge conflicts.

I can add TODO but don't see it if its any different from existing code. Please advise.",False,15
110817,barbican/model/repositories.py,7789,13,1abeadc6_29cdb031,Line,293,1abeadc6_69cc08bc,2014-08-28 16:37:46,"Arun, the singleton getters for some of the repositories are at the bottom of link you mention above.

I think it's fine to add without a TODO here. Once 116387 lands, I was planning to put a CR that guts all of these pesky repo calls, but for the time being it is how things are getting done (as ugly as they are).",False,15
110817,barbican/model/repositories.py,1091,13,1abeadc6_ff7a86b8,Line,293,1abeadc6_29cdb031,2014-08-28 17:36:31,Okay. So I will leave this as-is now.,False,15
110817,barbican/model/repositories.py,10873,13,1abeadc6_eff4af5c,Line,293,,2014-08-28 07:46:18,"As to John Wood's comment in patch 11, I think adding a TODO here would be the best approach; it would then state that this could be replaced subsequently by this singleton approach.",False,15
110817,barbican/model/repositories.py,1091,11,1abeadc6_e2a213fb,Line,566,1abeadc6_d8da694a,2014-08-27 22:09:34,"As I see code in other places in this module, suppress_exception generally suppresses specific exception e.g. NoResultFound error. I will think, we should not suppress NotImplementedError as its incomplete usage of API (coding error) and want to highlight that during testing.

I can remove deletion count as its not being used. Generally these kind of APIs provide count but its specific to this task, I can certainly remove it.",False,15
110817,barbican/model/repositories.py,7789,11,1abeadc6_d8da694a,Line,566,1abeadc6_6ec38a57,2014-08-27 21:29:31,"If _build_get_project_...() returns a query or NotImplemented, then the 'if query:' check is not needed...saving a level of indentation which is helpful.  That said, if the intent of 'suppress_exception' in this method is to suppress ALL exceptions, then even this NotImplemented exception should not be raised?

Regarding the deletion count, I don't see code that uses this return value, including the main delete_all_project_resources() function above. Can this just be removed?",False,15
110817,barbican/model/repositories.py,1091,11,1abeadc6_6ec38a57,Line,566,1abeadc6_67d655f3,2014-08-26 18:05:52,"If specific repo class does not implement _build_get_project_entities_query method, then NotImplementedError is raised. In case its implemented, then query would not be false.

If I use query.count() mechanism for delete count, then actual number of delete can be different in case suppress_exception is True and there is error with one of soft delete.

Please let me know if you still have concern on this?",False,15
110817,barbican/model/repositories.py,10873,11,1abeadc6_67d655f3,Line,566,,2014-08-26 16:10:06,"what if the value of `query` is falsey? Wouldn't that be a failure for the _build_get_project_entities query? Perhaps the throwing of an exception would make sense here.

Also, perhaps, instead of having a variable with the count for the query, perhaps you could get the length of the query itself; the usage of query.count() would help.",False,15
110817,barbican/model/repositories.py,1091,11,1abeadc6_b308abda,Line,293,1abeadc6_e7298538,2014-08-26 18:05:52,I am using 'container_repo' in delete_all_project_resources logic above and that's why added here. Without this I will need to create this repo reference differently which is a variation from the pattern used throughout in the barbican code.,False,15
110817,barbican/model/repositories.py,7789,11,1abeadc6_0ca826da,Line,293,1abeadc6_b308abda,2014-08-27 21:29:31,"Just noting that this CR will allow for repository module accesses, without having to pass around repos: https://review.openstack.org/#/c/116387/

I think this is fine for this CR.",False,15
110817,barbican/model/repositories.py,10873,11,1abeadc6_e7298538,Line,293,,2014-08-26 16:10:06,"Why was this line added? it seems that it was needed, but is it relevant to have it on this CR? or should it have been in a separate CR?",False,15
110817,barbican/model/repositories.py,1091,11,1abeadc6_cf3700fe,Line,258,1abeadc6_b87f6ddf,2014-08-27 22:09:34,"John, yes you are correct. It should be False as we don't want to hide exception. True actually makes whole logic quite useless as leaves entities in inconsistent state.",False,15
110817,barbican/model/repositories.py,7789,11,1abeadc6_b87f6ddf,Line,258,,2014-08-27 21:29:31,"Should this entire transaction be an all or nothing affair, so suppress_exception=False (the default) all the way?  If a clean up attempt fails, I think operators should know about it, try to fix the problem (outside Barbican) and then re-attempt this.",False,15
110817,barbican/model/repositories.py,7789,11,1abeadc6_8c17d644,Line,241,1abeadc6_d36e07c9,2014-08-27 21:29:31,"Juan, I'm not sure I follow your ask here...are you looking for a way to not have to pass 3 args for each of those repo calls?",False,15
110817,barbican/model/repositories.py,1091,11,1abeadc6_d36e07c9,Line,241,1abeadc6_040cbf41,2014-08-26 18:05:52,"I am not sure if I am following your comments. Can you please provide example or mention specific lines which are unnecessarily verbose?

The intent is to specify transaction (atomic) behavior across these multiple db delete operations. This is done by using same session which is I mentioned in comments. Sometimes this kind of behavior is not that obvious for everybody.

I will remove the line ""Added here to keep session specific logic within this module."" .
This was just added to explain why the code is here and not in calling class as based on earlier review comments around the same topic.",False,15
110817,barbican/model/repositories.py,9234,13,fa98f980_46ee1224,Line,1059,,2014-08-31 03:36:03,backslashes,False,15
110817,barbican/model/repositories.py,1091,13,fa98f980_cf362052,Line,1059,fa98f980_46ee1224,2014-09-02 21:15:50,Will address in next patch. Details are as mentioned above.,False,15
110817,barbican/model/repositories.py,10873,16,fa98f980_af02236d,Line,551,,2014-09-08 11:57:54,"please expand to the canonical (or verbose) form of this:

if query:
    return query.all()
else
    return []

Since the inline version you used doesn't properly show the code coverage.",False,15
110817,barbican/model/repositories.py,1091,16,fa98f980_244abf27,Line,551,fa98f980_af02236d,2014-09-08 18:52:46,Okay will change it.,False,15
110817,barbican/queue/keystone_listener.py,10873,11,1abeadc6_5a504cd4,Line,31,,2014-08-26 16:10:06,- the API,False,15
110817,barbican/queue/__init__.py,9234,22,baa201ad_acff8700,Line,155,,2014-09-30 01:36:10,any reason this isn't a docstring?,False,15
110817,barbican/queue/__init__.py,1091,16,fa98f980_4950be5e,Line,159,fa98f980_5b02560c,2014-09-08 18:52:46,"In barbican code, assert statement is used in number of places. Its just checking pre-condition before usage of TRANSPORT (kind of defensive programming) and seems like a good candidate for assert usage. Even order processing logic has the similar assert.
I am not too adamant on keeping this but IMHO it seems legit usage of assert here. Not sure where else 'assert' kind of checks should be used then?",False,15
110817,barbican/queue/__init__.py,10873,16,fa98f980_5b02560c,Line,159,,2014-09-08 11:57:54,"I'm against using asserts in production code (though I acknowledge they're good for debugging purposes). Since it does not necessarily run; as specificed in the documentation [1]. If you really want to check for TRANSPORT not being None, I suggest a simple if...else.

[1] https://docs.python.org/2/reference/simple_stmts.html#the-assert-statement",False,15
110817,barbican/queue/__init__.py,1091,13,fa98f980_af163ca5,Line,62,fa98f980_86463a22,2014-09-02 21:15:50,Will address in next patch.,False,15
110817,barbican/queue/__init__.py,9234,13,fa98f980_86463a22,Line,62,,2014-08-31 03:36:03,"default in the config is barbican_notifications.  We should match.

https://review.openstack.org/#/c/110817/13/etc/barbican/barbican-api.conf",False,15
110817,barbican/queue/__init__.py,1091,3,baada198_50b3b099,Line,157,baada198_3ff0cffc,2014-08-07 15:44:44,Please see above reply.,False,15
110817,barbican/queue/__init__.py,9234,3,baada198_3ff0cffc,Line,157,,2014-08-07 14:23:15,same as above,False,15
110817,barbican/queue/__init__.py,1091,3,baada198_10b9387c,Line,136,baada198_9f8d5b80,2014-08-07 15:44:44,"Its initialized by init(...) method, specifically line # 105 in this file. This init is called by startup logic.",False,15
110817,barbican/queue/__init__.py,9234,3,baada198_9f8d5b80,Line,136,,2014-08-07 14:23:15,I see we set TRANSPORT=None above - how does it get set to an actual value?,False,15
110817,barbican/queue/__init__.py,1091,3,baada198_50ce502e,Line,63,baada198_df42733a,2014-08-07 15:44:44,Okay. Will address in next patch.,False,15
110817,barbican/queue/__init__.py,9234,3,baada198_df42733a,Line,63,,2014-08-07 14:23:15,"""needs to match one of the values mentioned in"" would sound better",False,15
110817,barbican/queue/__init__.py,9234,1,baada198_87c4d794,Line,48,,2014-08-03 00:18:18,Are there any issues here for HA?  Or is this all handled by the rest of the Barbican queueing HA?,False,15
110817,barbican/model/repositories.py,9234,22,baa201ad_2e062e21,Line,1109,,2014-09-30 01:36:10,same comment as above,False,15
110817,barbican/model/repositories.py,10873,11,1abeadc6_040cbf41,Line,241,,2014-08-26 16:10:06,"nit: This function seems overly verbose, perhaps you could find a way to make it less verbose and more readable?

My reasoning is that, since delete_project_entities is being called with the same parameter for all the repo's, it kind of hides the intent, when what you actually want to express, it that for the container_repo, secret_repo, kek_repo, and so on, you want to do that action. Another helper function perhaps?",False,15
110817,barbican/model/repositories.py,9234,22,baa201ad_ee0b4629,Line,979,,2014-09-30 01:36:10,same comment as above,False,15
110817,barbican/model/repositories.py,9234,22,baa201ad_4e2c52ac,Line,866,,2014-09-30 01:36:10,same comment as above - do we need this here?,False,15
110817,barbican/model/repositories.py,9234,22,baa201ad_ae121e60,Line,731,,2014-09-30 01:36:10,same comment as above,False,15
85225,trove/tests/unittests/guestagent/test_upgrade.py,8214,71,baada198_a168c0f5,Line,21,,2014-07-15 06:46:58,imports aren't following hacking rules (http://docs.openstack.org/developer/hacking/#imports),False,15
110817,barbican/model/repositories.py,9234,22,baa201ad_ae44de74,Line,537,,2014-09-30 01:36:10,always dangerous to put things like this in a comment...as soon as someone refactors then this comment will be obsolete.  I would say remove it - easy enough to find who uses this function.,False,15
110817,barbican/model/repositories.py,7789,22,baa201ad_42ffb734,Line,265,baa201ad_ee76e6d7,2014-09-30 14:21:39,I don't think it matters as this is being performed in a SQLAlchemy transaction.,False,15
110817,barbican/model/repositories.py,9234,22,baa201ad_ee76e6d7,Line,265,,2014-09-30 01:36:10,just a question here - should we do this AFTER tenant_secret?  Does it matter?,False,15
110817,barbican/model/repositories.py,1091,17,fa98f980_6ceba978,Line,556,fa98f980_aa5adc80,2014-09-09 19:54:31,Actually this is *not* project_id. Its the value of 'id' field in barbican tenants table which is a indirect reference to keystone project id. That's why I avoided using project_id reference and kept it as tenant_id.,False,15
110817,barbican/model/repositories.py,994,17,fa98f980_aa5adc80,Line,556,,2014-09-09 14:46:02,"Nit, I think we should replace tenant_id with project _id. After all everywhere we are calling it project.",False,15
110817,barbican/model/repositories.py,1091,17,fa98f980_0cc77d13,Line,536,fa98f980_eada24e8,2014-09-09 19:54:31,Actually this is *not* project_id. Its the value of 'id' field in barbican tenants table which is a indirect reference to keystone project id. That's why I avoided using project_id reference and kept it as tenant_id.,False,15
110817,barbican/model/repositories.py,994,17,fa98f980_eada24e8,Line,536,,2014-09-09 14:46:02,"Nit, I think we should replace tenant_id with project _id. After all everywhere we are calling it project.",False,15
110817,barbican/model/repositories.py,1091,17,fa98f980_ecbeb9ad,Line,519,fa98f980_2a4eecc1,2014-09-09 19:54:31,Actually this is *not* project_id. Its the value of 'id' field in barbican tenants table which is a indirect reference to keystone project id. That's why I avoided using project_id reference and kept it as tenant_id.,False,15
110817,barbican/model/repositories.py,994,17,fa98f980_2a4eecc1,Line,519,,2014-09-09 14:46:02,"Nit, I think we should replace tenant_id with project _id. After all everywhere we are calling it project.",False,15
110817,barbican/model/repositories.py,1091,17,fa98f980_4ce8a57c,Line,244,fa98f980_aad1fcce,2014-09-09 19:54:31,Actually this is *not* project_id. Its the value of 'id' field in barbican tenants table which is a indirect reference to keystone project id. That's why I avoided using project_id reference and kept it as tenant_id.,False,15
110817,barbican/model/repositories.py,994,17,fa98f980_aad1fcce,Line,244,,2014-09-09 14:46:02,"Nit, I think we should replace tenant_id with project _id. After all everywhere we are calling it project.",False,15
110817,barbican/model/repositories.py,9234,22,baa201ad_6e183685,Line,897,,2014-09-30 01:36:10,same comment as above,False,15
110817,barbican/model/repositories.py,1091,7,1abeadc6_0411d25c,Line,692,1abeadc6_31d0d31e,2014-08-20 22:42:22,Same answer as earlier one. This is the pattern used throughout in this module.,False,15
110817,barbican/model/repositories.py,7262,7,1abeadc6_31d0d31e,Line,692,,2014-08-20 19:35:19,I wonder if we could clean up all of these so we aren't just using a large number of line continuations all the time.,False,15
110817,barbican/model/repositories.py,1091,7,1abeadc6_243faed7,Line,594,1abeadc6_efe67caf,2014-08-20 22:42:22,"Yes, that is another approach to specify query. I am following the currently used pattern so that it can be read and understood in consistent manner. I was trying to avoid the situation where someone says why its done differently. I can certainly change it if its needed. Please let me know.",False,15
108562,scripts/guest/package-builder.sh,8415,2,fa98f980_aa43c711,Line,8,,2014-09-18 08:51:34,/home/`whoami`/home/trove-integration/scripts/guest/guest-requirements.txt,False,15
108562,scripts/guest/package-builder.sh,8415,2,fa98f980_0abdb302,Line,6,,2014-09-18 08:51:34,GIT_URL={$GUEST_REPO:'http://github.com/openstack/trove.git'},False,15
108562,scripts/guest/package-builder.sh,6162,1,baada198_2d663bbd,Line,53,baada198_263d518f,2014-08-12 23:30:57,"thanks Peter!, will do.",False,15
108562,scripts/guest/package-builder.sh,10215,1,baada198_263d518f,Line,53,,2014-08-06 15:23:31,"This looks like a test line, and should probably be removed",False,15
108562,scripts/guest/guest-requirements.txt,8415,2,fa98f980_ca948b8e,Line,13,,2014-09-18 08:51:34,"Not needed yet. But it's ok.

oslo.messaging>=1.4.0.a3",False,15
108562,scripts/guest/guest-requirements.txt,8415,2,fa98f980_8a7b637a,Line,12,,2014-09-18 08:51:34,not needed,False,15
108562,scripts/guest/guest-requirements.txt,8415,2,fa98f980_6a847f5d,Line,10,,2014-09-18 08:51:34,not needed,False,15
108562,scripts/guest/guest-requirements.txt,8415,2,fa98f980_6aeb9f12,Line,7,,2014-09-18 08:51:34,"kombu is a dependency for oslo.messaging

https://github.com/openstack/oslo.messaging/blob/master/requirements.txt#L24",False,15
108562,scripts/guest/guest-requirements.txt,8415,2,fa98f980_4a817b4c,Line,6,,2014-09-18 08:51:34,not needed,False,15
108562,scripts/guest/guest-requirements.txt,8415,2,fa98f980_cadbab7b,Line,5,,2014-09-18 08:51:34,python-swiftclient>=2.2.0,False,15
108562,scripts/guest/guest-requirements.txt,8415,2,fa98f980_2ab3574e,Line,4,,2014-09-18 08:51:34,python-novaclient>=2.17.0,False,15
108562,scripts/guest/guest-requirements.txt,8415,2,fa98f980_caad6bec,Line,3,,2014-09-18 08:51:34,version should be oslo.config>=1.4.0.0a3,False,15
108562,scripts/guest/guest-requirements.txt,8415,2,fa98f980_8ac9a3ae,Line,1,,2014-09-18 08:51:34,should be fixed too,False,15
107725,modules/stunnel/manifests/init.pp,7233,2,baada198_f4a1edf7,Line,9,baada198_1e7042a3,2014-07-18 14:34:44,Done,False,15
108562,scripts/guest/package-builder.sh,8415,2,fa98f980_8a57e3c9,Line,55,,2014-09-18 08:51:34,. /home/`whoami`/devstack/openrc,False,15
107725,modules/stunnel/manifests/init.pp,6987,2,baada198_1e7042a3,Line,9,,2014-07-18 13:43:24,red blob?,False,15
107725,modules/openstack_project/templates/stunnel.conf.erb,6987,1,baada198_6ebe0d02,Line,18,,2014-07-17 20:39:19,I would consider pass in the directory from the puppet file.,False,15
107725,modules/openstack_project/templates/stunnel.conf.erb,7233,1,baada198_b4b695da,Line,14,baada198_0ecaf1a0,2014-07-18 14:44:40,Done,False,15
107725,modules/openstack_project/templates/stunnel.conf.erb,6987,1,baada198_0ecaf1a0,Line,14,,2014-07-17 20:39:19,I would consider pass in the directory from the puppet file.,False,15
107725,modules/openstack_project/manifests/stunnel.pp,6554,6,1abeadc6_a81ebf0b,Line,17,1abeadc6_fe6fb128,2014-08-25 05:54:16,Could also be related to a version mismatch in install_modules.sh.,False,15
107725,modules/openstack_project/manifests/stunnel.pp,4146,6,1abeadc6_fe6fb128,Line,17,,2014-08-22 20:16:44,The tests don't like this line. I think because we don't install the puppet modules in that test. I believe jeblair has a change up to install them somewhere but I am not finding it.,False,15
107725,modules/openstack_project/manifests/stunnel.pp,6554,6,1abeadc6_c8bf7bfb,Line,3,1abeadc6_de8595cf,2014-08-25 05:54:16,I think its fine to have this class. Consuming a public module by building a site specific wrapper class like this is a common pattern.,False,15
107725,modules/openstack_project/manifests/stunnel.pp,4146,6,1abeadc6_de8595cf,Line,3,,2014-08-22 20:16:44,I feel like this class shouldn't need to exist. Would it be bad to use a dir we expect ot be present on the host for the chroot parameter and just run stunnel::tun out of the jenkins manifests directly? Maybe use /var/lib/jenkins?,False,15
107725,modules/openstack_project/manifests/jenkins_dev.pp,7233,2,baada198_d42b0980,Line,144,baada198_5e6f1a92,2014-07-18 14:34:44,Done,False,15
107725,modules/openstack_project/manifests/jenkins_dev.pp,6987,2,baada198_5e6f1a92,Line,144,,2014-07-18 13:43:24,vars need to be in brackets,False,15
107725,modules/openstack_project/manifests/jenkins_dev.pp,7233,2,baada198_d4794994,Line,15,,2014-07-18 14:34:44,Changed this to zuul-dev.openstack.org,False,15
107725,modules/openstack_project/manifests/jenkins_dev.pp,7233,1,baada198_74d79dee,Line,199,baada198_70eb5478,2014-07-18 14:44:40,Done,False,15
107725,modules/openstack_project/manifests/jenkins_dev.pp,6987,1,baada198_70eb5478,Line,199,,2014-07-17 20:39:19,should be 'default_stunnel',False,15
107725,modules/openstack_project/manifests/jenkins_dev.pp,7233,1,baada198_d4306958,Line,20,baada198_ce5d59ee,2014-07-18 14:44:40,Yes it does. I'll explain it in the documentation (in the module for now).,False,15
107725,modules/openstack_project/manifests/jenkins_dev.pp,6987,1,baada198_ce5d59ee,Line,20,,2014-07-17 20:39:19,doesn't gear need a valid ssl_chain_file?,False,15
107725,modules/openstack_project/templates/stunnel.conf.erb,7233,1,baada198_54c7f944,Line,18,baada198_6ebe0d02,2014-07-18 14:44:40,Done,False,15
110817,barbican/queue/keystone_listener.py,10873,11,1abeadc6_9a0824db,Line,34,,2014-08-26 16:10:06,The Oslo notification,False,15
108562,scripts/guest/package-builder.sh,8415,2,fa98f980_4a041bc6,Line,57,,2014-09-18 08:51:34,"it's only one package, so should be guest-package",False,15
108796,/COMMIT_MSG,6162,2,baada198_1256a72a,Line,7,baada198_414bf685,2014-07-23 17:30:40,Done,False,15
110817,barbican/model/repositories.py,7262,7,1abeadc6_efe67caf,Line,594,,2014-08-20 19:35:19,"Wouldn't it be cleaner to do:

    query = session.query(models.Tenant)
    return query.filter_by(id=tenant_id, deleted=False)",False,15
110817,barbican/model/repositories.py,1091,7,1abeadc6_6453666b,Line,589,1abeadc6_5bdacee8,2014-08-20 22:42:22,No need to get_session() in this method as its built in caller function if not provided. Will update the docstring in base class to reflect that.,False,15
110817,barbican/model/repositories.py,7262,7,1abeadc6_5bdacee8,Line,589,,2014-08-20 19:35:19,"According to the docstring in the base, session should be retrieved if not specified.",False,15
110817,barbican/model/repositories.py,1091,7,1abeadc6_643e062a,Line,520,1abeadc6_8fa8a878,2014-08-20 22:42:22,Yes. Will use that in next patch.,False,15
110817,barbican/model/repositories.py,7262,7,1abeadc6_8fa8a878,Line,520,,2014-08-20 19:35:19,"If you're really trying to get all entities wouldn't it be better to do something like;

    return query.all() if query else []",False,15
110817,barbican/model/repositories.py,1091,7,1abeadc6_c406fa85,Line,499,1abeadc6_56af052a,2014-08-20 22:42:22,"As this function is used by base class 'get_project_entities' and 'delete_project_entities', so was thinking of avoiding error for sub classes which does not implement this method.

But as per your recommendation, it might be better to make caller aware known that specific repo class does not implement this error.

Will raise not implemented error in next patch.",False,15
110817,barbican/model/repositories.py,7262,7,1abeadc6_56af052a,Line,499,,2014-08-20 19:35:19,This really should either raise a not implemented or be some sort of abstract method.,False,15
110817,barbican/model/repositories.py,1091,3,baada198_d04a60ac,Line,502,baada198_7f6ec798,2014-08-07 15:44:44,"This is a shared logic so using 'secret' would not be applicable in case of tenant, order etc.",False,15
110817,barbican/model/repositories.py,9234,3,baada198_7f6ec798,Line,502,,2014-08-07 14:23:15,Message should indicate that its a secret not found for project id X,False,15
110817,barbican/model/repositories.py,1091,3,baada198_508010bf,Line,128,baada198_bf305fea,2014-08-07 15:44:44,I think eclipse is adding that space between # and TODO. That's why the the comment you mentioned crossed 80 limit and needs to split in two lines.,False,15
110817,barbican/model/repositories.py,9234,3,baada198_bf305fea,Line,128,,2014-08-07 14:23:15,I like how you did it above - howsabout one TODO comment above the 3 commented out lines?,False,15
110817,barbican/model/repositories.py,9234,1,baada198_27deab6a,Line,930,,2014-08-03 00:18:18,Can a container contain secrets with a different project ID?,False,15
110817,barbican/model/repositories.py,9234,1,baada198_87edb726,Line,503,,2014-08-03 00:18:18,If someone deletes a project in keystone it might seem confusing that this error message says TenantID.  Should probably say Project rather than Tenant.,False,15
110817,barbican/model/repositories.py,9234,1,baada198_c7da4f78,Line,501,,2014-08-03 00:18:18,"can you reword this one?   Perhaps:

No secrets found for project id {0}.",False,15
108796,/COMMIT_MSG,8415,2,baada198_414bf685,Line,7,,2014-07-23 14:46:36,CLI instead cli,False,15
110817,/COMMIT_MSG,9234,1,baada198_27878b5c,Line,9,,2014-08-03 00:18:18,"can you add:

Implements: blueprint consume-keystone-events",False,15
109800,doc/source/third-party.rst,2472,1,1abeadc6_d3c65468,Line,10,,2014-08-24 17:23:14,"This will be easier to review and maintain over time if it is wrapped to 80 column lines.

reST includes a ""definition list"" format for use in glossaries and other situations where a term and an explanation are needed. This list should probably be written in that format.

http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#definition-lists",False,15
109590,nova/compute/arch.py,782,9,fa98f980_51231205,Line,152,,2014-09-01 11:04:15,"This is what things are called in Xen, not totally a mistake. p means para-virt I guess, but anyways, probably better just to map to something a bit more standard.",False,15
108796,troveclient/v1/management.py,6162,2,baada198_9242b766,Line,179,baada198_ac93e9a2,2014-07-23 17:30:40,"Denis -

This is just a file path to where you're guest config located.",False,15
108796,troveclient/v1/management.py,8415,2,baada198_ac93e9a2,Line,179,,2014-07-23 14:46:36,"guest_config is a file path?
if yes - you have to load file content.",False,15
108796,/COMMIT_MSG,6162,3,fa98f980_2e08e02c,Line,11,baada198_f39b7514,2014-09-08 18:40:22,"We've always called the legacy client trove-cli and the legacy mgmt client trove-mgmt-cli.

I don't want to confuse folks more than necessary.

Hopefully one day we can get rid of the legacy client and bring in all the mgmt client code into the current client.",False,15
108796,/COMMIT_MSG,8415,3,baada198_f39b7514,Line,11,,2014-07-28 10:50:14,trove-mgmt,False,15
108796,/COMMIT_MSG,6162,3,fa98f980_0e0b1c2c,Line,10,baada198_33024d3e,2014-09-08 18:40:22,"We've always called the legacy client trove-cli and the legacy mgmt client trove-mgmt-cli.

I don't want to confuse folks more than necessary.

Hopefully one day we can get rid of the legacy client and bring in all the mgmt client code into the current client.",False,15
108796,/COMMIT_MSG,8415,3,baada198_33024d3e,Line,10,,2014-07-28 10:50:14,trove-compat,False,15
108796,/COMMIT_MSG,6162,2,baada198_8d7a9c75,Line,14,baada198_ac3769e3,2014-07-23 17:30:40,Done,False,15
108796,/COMMIT_MSG,8415,2,baada198_ac3769e3,Line,14,,2014-07-23 14:46:36,Partially implements: blueprint upgrade-guestagent,False,15
108796,/COMMIT_MSG,6162,2,baada198_6d838855,Line,11,baada198_cc0bbd20,2014-07-23 17:30:40,"These are just suggestions and they are not actually checked into the code.
You could call it:

denis-makagons-really-cool-trove-mgmt = troveclient.compat.mcli:main

and it would be fine.",False,15
108796,/COMMIT_MSG,8415,2,baada198_cc0bbd20,Line,11,,2014-07-23 14:46:36,trove-mgmt instead,False,15
108796,/COMMIT_MSG,6162,2,baada198_0d320cf2,Line,10,baada198_8c0aa51e,2014-07-23 17:30:40,This is not quite true.,False,15
108796,/COMMIT_MSG,8415,2,baada198_8c0aa51e,Line,10,,2014-07-23 14:46:36,seems like all calls from compat/ are equal to regular calls,False,15
109800,doc/source/third-party.rst,6316,1,1abeadc6_f6f54383,Line,10,1abeadc6_d3c65468,2014-08-29 01:33:57,"Thanks Doug, I would like to see a new patch with these suggestions incorporated.",False,15
120866,glance_store/_drivers/swift/store.py,2835,3,fa98f980_0bf6ae90,Line,103,fa98f980_e24d129b,2014-09-17 14:47:29,"The one reader path could be okay if the system defaults to a reasonably small value for the swift chunk size.  It currently defaults to 200MB, so the memory usage would be on the order of (200MB * num_of_uploads_in_progress).  Is there any sort of governor on the number of simultaneous uploads to swift?  (I think not)",False,15
110817,barbican/model/repositories.py,7789,22,baa201ad_2289d3ca,Line,537,baa201ad_ae44de74,2014-09-30 14:21:39,"Ha, I see Juan has already gotten after this, so not an issue for this CR.",False,15
85225,trove/tests/unittests/guestagent/test_agent_heartbeats_models.py,8415,75,baada198_161e345f,Line,79,,2014-07-21 10:47:20,self.assertIsNotNone(heartbeat.guest_agent_version),False,15
85225,trove/guestagent/strategies/upgrade/base.py,6162,72,baada198_11185a83,Line,26,baada198_fff301e5,2014-07-17 17:08:26,"We decided to not use abc here for just one silly run method. I did originally but core talked my out of it.

I am considering not extending the Strategy class and not following the strategy stuff so closely in this next patch so hopefully this part improves a bit.",False,15
120866,glance_store/_drivers/swift/store.py,11642,3,fa98f980_be097e34,Line,550,fa98f980_3c483e8a,2014-09-16 18:20:12,gotcha,False,15
85225,trove/guestagent/strategies/upgrade/base.py,8415,74,baada198_d9c08b7e,Line,18,,2014-07-19 11:03:02,@six.metaclass(abc.Metaclass),False,15
85225,trove/guestagent/version.py,694,66,baada198_49154a9a,Line,40,,2014-07-07 20:04:28,There is no reason to have this superclass.,False,15
85225,trove/guestagent/upgrade/upgradeagent.py,8415,76,baada198_bdbd4e6a,Line,42,,2014-07-21 20:33:47,Sounds good. Please add #TODO with appropriate message,False,15
85225,trove/guestagent/strategies/upgrade/base.py,8415,74,baada198_f9b9cf16,Line,24,,2014-07-19 11:03:02,@abs.abstractmethod,False,15
85225,trove/guestagent/strategies/upgrade/base.py,8415,75,baada198_d3c84e24,Line,18,,2014-07-21 10:47:20,@six.metaclass(abc.Metaclass),False,15
85225,trove/guestagent/strategies/upgrade/base.py,8415,75,baada198_f3cb921b,Line,24,,2014-07-21 10:47:20,@six.metaclass(abc.Metaclass),False,15
85225,trove/guestagent/strategies/upgrade/base.py,8415,76,baada198_1d5b9a86,Line,10,,2014-07-21 20:33:47,This comments were ignored not even once. Fix it.,False,15
85225,trove/guestagent/upgrade/upgradeagent.py,6162,75,baada198_42037141,Line,44,baada198_d6ef5c85,2014-07-21 20:11:50,I'm probably gonna leave this for now but I would like to add some better exceptions.,False,15
85225,trove/guestagent/version.py,6162,66,baada198_a06245ab,Line,40,baada198_49154a9a,2014-07-09 01:01:58,Done,False,15
85225,trove/guestagent/upgrade/upgradeagent.py,6162,75,baada198_62223502,Line,40,baada198_b6dd88df,2014-07-21 20:11:50,Done,False,15
85225,trove/guestagent/upgrade/upgradeagent.py,8415,75,baada198_b6dd88df,Line,40,,2014-07-21 10:47:20,i don't see any big need in logging RpcContext,False,15
85225,trove/tests/unittests/guestagent/test_agent_heartbeats_models.py,6162,76,baada198_971ae2c4,Line,79,baada198_3db13e8f,2014-07-24 16:49:37,Done,False,15
85225,trove/tests/unittests/guestagent/test_upgrade.py,8214,71,baada198_e1a0f843,Line,1,,2014-07-15 06:46:58,"shouldn't be attributed to the OpenStack Foundation, it should be attributed to HP.",False,15
85225,trove/guestagent/strategies/upgrade/base.py,8415,72,baada198_fff301e5,Line,26,,2014-07-16 05:56:46,"This method should be decorated with abc.abstractmethod 
Since this class is a  nothing else than abstraction layer. So please fix it.",False,15
85225,trove/guestagent/strategies/upgrade/base.py,6162,72,baada198_713ef6db,Line,20,baada198_ffe141fd,2014-07-17 17:08:26,"We decided to not use abc here for just one silly run method.
I did originally but core talked my out of it.",False,15
85225,trove/guestagent/strategies/upgrade/base.py,8415,72,baada198_ffe141fd,Line,20,,2014-07-16 05:56:46,Should be decorated with @six.metaclass(abc.Metaclass),False,15
85225,trove/guestagent/strategies/upgrade/base.py,8415,71,baada198_33ecdff3,Line,26,,2014-07-15 21:05:58,should have decorator @abc.abstractmethod,False,15
85225,trove/guestagent/upgrade/upgradeagent.py,6162,66,baada198_408fa975,Line,44,baada198_d656555b,2014-07-09 01:01:58,Done,False,15
85225,trove/guestagent/version.py,8214,66,baada198_023fa7b4,Line,40,baada198_49154a9a,2014-07-07 21:04:31,+1,False,15
85225,trove/guestagent/upgrade/upgradeagent.py,8415,71,baada198_c099847a,Line,19,,2014-07-11 15:29:16,remove noqa,False,15
85225,trove/guestagent/upgrade/upgradeagent.py,6162,71,baada198_384bde60,Line,19,baada198_c099847a,2014-07-15 20:53:24,Done,False,15
85225,trove/tests/unittests/guestagent/test_agent_heartbeats_models.py,8415,74,baada198_99b533ef,Line,79,,2014-07-19 11:03:02,self.assertIsNotNone(heartbeat.guest_agent_version),False,15
120866,glance_store/_drivers/swift/store.py,11642,3,fa98f980_334ecb38,Line,550,,2014-09-15 16:45:20,Unused? Line 570 is also changed to call reader.checksum.,False,15
85225,trove/guestagent/upgrade/upgradeagent.py,694,66,baada198_d656555b,Line,44,,2014-07-07 20:04:28,Why not raise the error?,False,15
85225,trove/tests/unittests/guestagent/test_upgrade.py,694,71,baada198_fea799a5,Line,1,baada198_69876e61,2014-07-15 16:49:02,"I think the issue is the copyright of intellectual property can't be assigned to another company / person unless you sign a legal contract. In this case the thing we sign to dev on OpenStack doesn't assign the copyright to the foundation, it just proves our company is allowing us to do work which will be licensed under the Apache License to the project. Although I'm not a lawyer so of course take everything I say with a grain of salt. :)",False,15
120866,glance_store/_drivers/swift/store.py,2835,3,fa98f980_3c483e8a,Line,550,fa98f980_334ecb38,2014-09-16 15:13:29,"It seeds the checksum fed to self.reader_class() on the next iteration of the while loop.  

If an error occurred and seek() was called by swiftclient to backup the input stream, then the checksum would have been re-calculated.  This makes sure the updated checksum object is used.  It's a little ugly and non-obvious - I'm not sure the best means to make it clearer.",False,15
85225,trove/guestagent/upgrade/upgradeagent.py,6162,66,baada198_e0f7ddf3,Line,31,baada198_56632541,2014-07-09 01:01:58,"we can, it's just not the way backups implemented the 'strategy' paradigm",False,15
85225,trove/guestagent/upgrade/upgradeagent.py,8214,66,baada198_c2592f36,Line,31,baada198_56632541,2014-07-07 21:04:31,+1,False,15
85225,trove/guestagent/upgrade/upgradeagent.py,694,66,baada198_56632541,Line,31,,2014-07-07 20:04:28,"I'm confused why something simpler like the Driver pattern isn't being used here.

""Drivers"" are used throughout OpenStack and are pretty simple. Here we have to set ""upgrade_namespace"" which is passed to something that uses importclass. Why not just use import class right here?",False,15
85225,trove/guestagent/strategies/upgrade/base.py,694,66,baada198_b643a111,Line,27,,2014-07-07 20:04:28,"Do we need an ABC class that just has a single method?

Also, what are these variables used for? Should they have double underscores around both of them?",False,15
85225,trove/tests/unittests/guestagent/test_agent_heartbeats_models.py,8415,76,baada198_3db13e8f,Line,79,,2014-07-21 20:33:47,self.assertIsNone(heartbeat.guest_agent_version),False,15
85225,trove/guestagent/strategies/upgrade/base.py,8214,66,baada198_a7d0cdc9,Line,27,baada198_b643a111,2014-07-07 21:04:31,+1,False,15
85225,trove/guestagent/strategies/upgrade/base.py,6162,66,baada198_eaa33e4d,Line,27,baada198_b643a111,2014-07-09 01:01:58,"nah, was thinking there could be more here one day when we have more implementations.  I can pull it out tho.

I don't think the vars are necessary.  I think I put them there because I was following the 'backups' implementation for consistency.

I'll talk to you more about this soon :)",False,15
85225,trove/tests/unittests/guestagent/test_agent_heartbeats_models.py,6162,75,baada198_a279adc6,Line,79,baada198_161e345f,2014-07-21 20:11:50,I'm expecting heartbeat.guest_agent_version to be None,False,15
85225,trove/guestagent/strategies/upgrade/base.py,6162,76,baada198_38d22c00,Line,10,baada198_1d5b9a86,2014-07-21 20:52:25,"Hey Denis, I think I addressed this a couple of patches before.

After talking with Tim S., we felt like having on method wasn't enough to justify enforcing abc.

You'll notice that I no longer extend Strategy either",False,15
85225,trove/guestagent/upgrade/upgradeagent.py,8415,75,baada198_d6ef5c85,Line,44,,2014-07-21 10:47:20,too broad exception,False,15
85225,trove/guestagent/version.py,8415,74,baada198_79b05ffd,Line,48,,2014-07-19 11:03:02,can't we use `trove-manage' for gettin version?,False,15
85225,trove/guestagent/strategies/upgrade/metadata_mixin.py,8415,74,baada198_793dbf8d,Line,172,,2014-07-19 11:03:02,shouldn't be wrapped,False,15
85225,trove/guestagent/strategies/upgrade/metadata_mixin.py,8415,74,baada198_f950efd6,Line,165,,2014-07-19 11:03:02,Retrieves,False,15
85225,trove/guestagent/strategies/upgrade/metadata_mixin.py,8415,74,baada198_d947ab1b,Line,158,,2014-07-19 11:03:02,Returns,False,15
85225,trove/guestagent/strategies/upgrade/metadata_mixin.py,8415,74,baada198_194e8338,Line,185,,2014-07-19 11:03:02,"you don't have to call close(), it's already done in __exit__ method of 'f' object",False,15
85225,trove/guestagent/strategies/upgrade/base.py,8415,76,baada198_5d699223,Line,17,,2014-07-21 20:33:47,@six.metaclass(abc.Metaclass),False,15
85225,trove/guestagent/strategies/upgrade/metadata_mixin.py,8415,74,baada198_593c7b93,Line,85,,2014-07-19 11:03:02,"could you please raise more specific exception, Exception is too broad.",False,15
85225,trove/guestagent/strategies/upgrade/base.py,6162,76,baada198_984178a8,Line,17,baada198_5d699223,2014-07-21 20:52:25,please see my comments above and hit me up on irc if you have questions.,False,15
85225,trove/guestagent/strategies/upgrade/base.py,6162,76,baada198_d81690a6,Line,23,baada198_fd57c657,2014-07-21 20:52:25,please see my comments above and hit me up on irc if you have questions.,False,15
85225,trove/guestagent/strategies/upgrade/base.py,8415,76,baada198_fd57c657,Line,23,,2014-07-21 20:33:47,@six.metaclass(abc.Metaclass),False,15
